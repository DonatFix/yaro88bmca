(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[0],{125:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(9),o=()=>({type:n.t,payload:{}}),i=()=>({type:n.F,payload:{}})},126:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(9);function o(e){return{type:n.A,payload:e}}function i(e){return{type:n.z,payload:e}}},127:function(e,t,r){"use strict";r.d(t,"b",(function(){return pe})),r.d(t,"a",(function(){return he}));var n=r(62),o=r.n(n),i=r(2),a=r(16),c=r(55),l=r(5),s=r(305);var u=r(75),d=r(406),p=r.n(d),b=r(400),h=r.n(b),m=r(6),f=r.n(m),y=r(115),v=r(102),O=r.n(v),g=e=>{var[t,r,n]=e.split("-");if(!t||!r||!n)return!1;t=t.padStart(4,"0"),r=r.padStart(2,"0"),n=n.padStart(2,"0");var o=new Date("".concat(t,"-").concat(r,"-").concat(n));return"Invalid Date"!==o&&!isNaN(o)&&(o.getUTCFullYear()===parseInt(t,10)&&o.getUTCMonth()===parseInt(r,10)-1&&o.getUTCDate()===parseInt(n,10))};var j=r(254),w=r.n(j);function C(e){return/(^[a-z0-9_.+-`']+@[a-z0-9-]+(?:\.[a-z0-9-]+)+$)/i.test(e)||w()(e)}var k=r(57),E=r(99),S=r(266),I=r(34),P=e=>new E.g(e,"label.paymentError.".concat(e,"Incomplete")),T=e=>{var t=[],{cardCvc:r,cardExpiry:n,cardNumber:o,cardholdersName:i}=e,a={[I.a.CardCvc]:r,[I.a.CardExpiry]:n,[I.a.CardNumber]:o},c=Object.keys(a);return!e||!i&&c.every(e=>a[e].empty)?[]:(c.forEach(e=>{a[e].error&&t.push(((e,t)=>new E.g(e,S.a[t.code]||t.message,!0))(e,a[e].error))}),i||t.push(P(I.a.CardName)),c.forEach(e=>{a[e].empty&&t.push(P(e))}),t)};function _(){return(_=o()((function*(){try{var{isValidNumber:e}=yield Promise.all([r.e(7),r.e(1)]).then(r.bind(null,510));return t=>t.every(t=>t&&(!t.number||e(t.number,t.countryCode)))}catch(e){return()=>!0}}))).apply(this,arguments)}var x=r(416),R=r.n(x),D=r(311),A=r.n(D),B=r(308),F=r.n(B),N=F()(w.a,A.a),M=O()(N);var V=F()(w.a,A.a),L=O()(V);function H(e){return t=>!e||!L(t.map(e=>e&&e.number))}var z=new RegExp(/^(https?|ftp):\/\/[-a-zA-Z0-9:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,18}\b/),q=new RegExp(/^app:\/\/.+$/),K=e=>w()(e)||z.test(e)||q.test(e);var U=r(29),W=e=>t=>{var{minValue:r,maxValue:n}=t;return t=>!(e=>{var{minValue:t,maxValue:r,values:n}=e;return!Object(U.a)(n)&&(Object(k.b)(t)||Object(k.b)(r))})({minValue:r,maxValue:n,values:t})||t.every(k.b)&&t.every(e({minValue:r,maxValue:n}))},Y=W(e=>{var{minValue:t,maxValue:r}=e;return e=>e>=t&&e<=r}),G=W(e=>{var{minValue:t}=e;return e=>e>=t}),Q=W(e=>{var{maxValue:t}=e;return e=>e<=t});function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={[y.a.date]:function(){return O()(g)},[y.a.emailAddress]:function(){return O()(C)},[y.a.maxLength]:function(e){return O()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return t=>t.length<=e}(e))},[y.a.maxSelection]:()=>()=>!0,[y.a.maxValue]:Q,[y.a.minSelection]:e=>t=>!e||!t.length||t.length>=e,[y.a.minValue]:G,[y.a.mustAccept]:function(e){return O()((t=e,e=>e===t));var t},[y.a.number]:k.a,[y.a.payment]:function(){return e=>e.flatMap(T)},[y.a.phoneNumber]:function(){return _.apply(this,arguments)},[y.a.range]:Y,[y.a.required]:function(e){return t=>{if(!e)return!0;var r=t.map(e=>(e=>R()(String,e))(e)?(e=>e.trim())(e):e);return!M(r)}},[y.a.url]:function(){return O()(K)}};var X=function(){var e=o()((function*(e,t){for(var r=Object.keys(t),n={},o=0,i=r.length;o<i;o++){var a=r[o];n[a]=yield e[a](t[a])}return n}));return function(t,r){return e.apply(this,arguments)}}(),ee=h()(e=>!0!==e);function te(e){return t=function(e){switch(e){case l.a.phoneNumber:return Z(Z({},$),{},{[y.a.required]:H});default:return $}}(e),o()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=yield X(t,e);return t=>{var n=p()(e=>e(t),r),o=ee(n);return Object.entries(o).flatMap(t=>{var[r,n]=t;return!1===n?[new E.a(r,e)]:Array.isArray(n)?n:[]})}}));var t}var re=function(){var e=o()((function*(e,t,r){var n=(e=>e.value.map(e=>e.value))(r),o=te(e);return(yield o(t))(n)}));return function(t,r,n){return e.apply(this,arguments)}}();function ne(e,t){return oe.apply(this,arguments)}function oe(){return(oe=o()((function*(e,t){if(e)return e.validations&&t?re(e.type,e.validations,t):void 0}))).apply(this,arguments)}var ie=r(107),ae=r(9),ce=r(108),le=r(69),se=function(){var e=o()((function*(e,t){var r=[];for(var n of e.childFields){var o,i;r=r.concat(yield ne(n,{value:(null===(o=t.value[0])||void 0===o||null===(i=o.value[n.ref])||void 0===i?void 0:i.value)||[]}))}return r}));return function(t,r){return e.apply(this,arguments)}}(),ue=r(17),de=r(120);function pe(e,t,r){var n=Object(ie.a)(r);return function(){var r=o()((function*(r,o){var u=o(),d=Object(i.b)(u,e),p=Object(i.m)(u,e),b=Object(a.d)(u);if(p&&!Object(i.k)(u)){var h=Object(s.a)(p,t),m=Object(i.h)(d),f=Object(i.h)(h);if(v=f,(y=m).length!==v.length||!y.every((e,t)=>e===v[t])){var y,v,O,g=Object(a.l)(u),j=p.type!==l.a.payment;if(!g&&j){var w=Object(c.a)(p);Object(ce.h)(b,e,{hash:w,value:t})}if(r({type:ae.H,payload:{answer:h,navigationType:n}}),yield r(be(p.ref)),Object(a.c)(u)&&r(Object(ue.e)(!1)),0===(O=h).value.length||O.value.every(e=>!e.value)){var C=Object(i.j)(o());r(Object(de.b)(C))}}}}));return function(e,t){return r.apply(this,arguments)}}()}function be(e){return function(){var t=o()((function*(t,r){var n=r(),o=Object(i.m)(n,e);if(Object(u.a)(o)){var a,c=Object(i.b)(n,e);a=Object(le.a)(o)?yield se(o,c):yield ne(o,{value:c.value}),t({type:ae.V,payload:{blockRef:e,validationErrors:a}})}}));return function(e,r){return t.apply(this,arguments)}}()}function he(e,t,r){var n=Object(ie.a)(t);return function(){var t=o()((function*(t,o){t(function(e,t){return{type:ae.d,payload:{ref:e,source:t}}}(e,r)),yield t(be(e));var a=o(),c=Object(i.m)(a,e),l=Object(u.a)(c),s=Object(i.b)(a,e);if(l&&!Object(i.e)(s))return t(function(e){return{type:ae.e,payload:{ref:e}}}(e));t(function(e){return{type:ae.f,payload:{ref:e}}}(e)),t(Object(de.b)(Object(i.j)(a))),t(Object(ue.i)(c?Object(i.o)(c):void 0,n))}));return function(e,r){return t.apply(this,arguments)}}()}},170:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9);function o(e,t){return{type:n.w,payload:{blockRef:e,show:t}}}},171:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9);function o(e){return{type:n.x,payload:{isScrollNearTop:!e}}}},239:function(e,t,r){"use strict";r.d(t,"j",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"g",(function(){return l})),r.d(t,"f",(function(){return s})),r.d(t,"l",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"k",(function(){return p})),r.d(t,"h",(function(){return b})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return m})),r.d(t,"i",(function(){return f})),r.d(t,"d",(function(){return y}));var n=r(11),o=r(294),i=r(16),a=e=>e.tracking,c=e=>{var t=a(e);return!(!t||!t.accountLimitName)&&(t.accountLimitName===o.a||t.accountLimitName===o.b)},l=e=>a(e).isFormCreator,s=e=>a(e).isFirstConversation,u=Object(n.a)(a,e=>e.visitCurrentCycle),d=e=>a(e).cookieUserId,p=e=>a(e).segmentKey,b=e=>a(e).sessionId,h=Object(n.a)(e=>a(e).blockRefTracking,e=>t=>(null==e?void 0:e[t])||{}),m=e=>{var{id:t,settings:{language:r}}=e.form,{accountId:n,accountLimitName:o}=a(e),c=!Object(i.l)(e)&&!l(e);return(e,i)=>{var a=["utm_campaign=".concat(t),"utm_source=typeform.com-".concat(n,"-").concat(o),"utm_medium=typeform","utm_content=".concat(i),"utm_term=".concat(r&&r.toUpperCase())];return c?"".concat(e,"?").concat(a.join("&")):"".concat(e)}},f=e=>{var t=[];return e.form.settings.googleAnalytics&&t.push(o.d),e.form.settings.facebookPixel&&t.push(o.c),e.form.settings.googleTagManager&&t.push(o.e),t},y=e=>e.form.settings.facebookPixel},242:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return v})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return g}));var n=r(69),o=r(6),i=r.n(o),a=r(2);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=e=>{var t=[];for(var r of e.block.childFields){var n=e.answer[0][r.ref];Object(a.C)(r.type,n)||t.push({block:l(l({},r),r.properties),answer:n&&Object(a.h)(n)})}return t},u=r(13),d=e=>Object(a.P)(e).isComplete,p=e=>null!==h(e),b=e=>Object(a.P)(e).responseId,h=e=>Object(a.P)(e).landingId,m=e=>Object(a.P)(e).navigationType,f=e=>Object(a.P)(e).landingAt,y=e=>Object(a.P)(e).retry.count,v=e=>Object(a.P)(e).retry.timeout,O=e=>Object(a.P)(e).errorMessage,g=e=>({answers:Object(a.q)(e).filter(t=>Object(a.F)(t)||!Object(a.C)(t.type,Object(a.b)(e,Object(a.o)(t)))).filter(t=>Object(u.h)(e,Object(a.o)(t))).map(t=>{var r=Object(a.b)(e,Object(a.o)(t));return{block:t,answer:r&&Object(a.g)(t,r)}}).reduce((e,t)=>(Object(n.a)(t.block)?e=e.concat(s(t)):e.push(t),e),[]),variables:Object(a.s)(e),hidden:Object(a.x)(e),logic:Object(a.H)(e)})},261:function(e,t,r){"use strict";r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return O}));var n=r(62),o=r.n(n),i=r(267),a=r.n(i);function c(e){try{return JSON.parse(e)}catch(t){return e}}var l=r(298),s="".concat(l.a.apiHost,"/").concat(l.a.endpoints.forms),u={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},d={"Content-Type":"application/json; charset=UTF-8",Accept:"application/json"};class p{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;this.httpClient=e}_post(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return new Promise((n,o)=>{var i={body:t,url:e,headers:r};this.httpClient.post(i,(e,t)=>{var{body:r,statusCode:i}=t;if(r=c(r),e||i<200||i>299)return o(r||e);n(r)})})}_postJson(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._post(e,JSON.stringify(t),d)}}var b=e=>({submissions:"".concat(s).concat(e,"/").concat(l.a.endpoints.submissions),landings:"".concat(s).concat(e,"/").concat(l.a.endpoints.landings)}),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p,r=b(e).landings;return t._post(r)},m=function(){var e=o()((function*(e){var{formId:t,landingId:n,landingAt:o,values:i,payment:a,outcome:c}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p,s=b(t).submissions,u=(yield Promise.all([r.e(6),r.e(0)]).then(r.bind(null,527))).default,d=u({formId:t,landingAt:o,landingId:n,payment:a,values:i,outcome:c});return l._postJson(s,d)}));return function(t){return e.apply(this,arguments)}}(),f=(e,t)=>{var r=((e,t)=>"".concat(s).concat(e,"/").concat(l.a.endpoints.uploads).concat(t,"/upload-credentials"))(e,t);return new Promise((e,t)=>{var n={url:r};a.a.get(n,(r,n)=>{var{body:o,statusCode:i}=n;if(r||i<200||i>299)return t(Error("credentials-error"));e(c(o))})})},y=e=>e.replace(/[`~!@#$%^&*()_|+\-=?;:'",<>{}[\]\\/\s]/g,"_"),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=y(e.name),o=t.bucket,i="https://".concat(o,".s3.amazonaws.com");return new Promise((o,a)=>{var c=new XMLHttpRequest;c.open("POST",i,!0),c.setRequestHeader("Access-Control-Allow-Origin","*"),c.onload=()=>{if(c.status<200||c.status>=299)return a(new Error(c.response&&c.response.code||"s3-upload-error"));var e="".concat(t.token,"-").concat(n);o(e)},c.onerror=()=>a(new Error("s3-connection-error"));var l=new FormData;c.upload.addEventListener("progress",e=>{var t=e.loaded/e.total;r(t)},!1),l.append("key","".concat(t.folder).concat(t.token)),l.append("AWSAccessKeyId",t.key),l.append("acl",t.acl),l.append("policy",t.policy),l.append("signature",t.signature),l.append("file",e),l.append("successActionRedirect",t.success_action_redirect||t.successActionRedirect),c.send(l)})},O=e=>new Promise((t,r)=>{var n={url:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}};a.a.get(n,(e,n)=>{var{body:o,statusCode:i}=n;if(e||i<200||i>299)return r(Error(e||i));var a=c(o)||{has_alpha:!1};t(!a.has_alpha)})})},265:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(237),o=r(13),i=r(9);function*a(e){for(;;){var{type:t,payload:r}=yield Object(n.k)([i.a,i.q,i.H,i.I]);if(t===i.a)if(yield Object(n.i)(o.k,r.ref))continue;return void(yield Object(n.b)(e,r))}}},266:function(e,t,r){"use strict";t.a={approve_with_id:"label.paymentError.unauthorized",not_permitted:"label.paymentError.unauthorized",card_declined:"label.paymentError.declinedCard",call_issuer:"label.paymentError.declinedCard",do_not_honor:"label.paymentError.declinedCard",do_not_try_again:"label.paymentError.declinedCard",generic_decline:"label.paymentError.declinedCard",lost_card:"label.paymentError.declinedCard",merchant_blacklist:"label.paymentError.declinedCard",no_action_taken:"label.paymentError.declinedCard",revocation_of_all_authorizations:"label.paymentError.declinedCard",revocation_of_authorization:"label.paymentError.declinedCard",security_violation:"label.paymentError.declinedCard",service_not_allowed:"label.paymentError.declinedCard",stolen_card:"label.paymentError.declinedCard",stop_payment_order:"label.paymentError.declinedCard",transaction_not_allowed:"label.paymentError.declinedCard",fraudulent:"label.paymentError.declinedCard",pickup_card:"label.paymentError.declinedCard",restricted_card:"label.paymentError.declinedCard",try_again_later:"label.paymentError.declinedCard",card_velocity_exceeded:"label.paymentError.exceededBalance",withdrawal_count_limit_exceeded:"label.paymentError.exceededBalance",currency_not_supported:"label.paymentError.unsupportedCurrency",duplicate_transaction:"label.paymentError.duplicateTransaction",expired_card:"label.paymentError.expiredCard",incorrect_number:"label.paymentError.invalidCardNumber",invalid_number:"label.paymentError.invalidCardNumber",incorrect_cvc:"label.paymentError.invalidCvc",invalid_cvc:"label.paymentError.invalidCvc",incorrect_zip:"label.paymentError.invalidZip",invalid_expiry_year:"label.paymentError.invalidExpiryYear",invalid_expiry_year_past:"label.paymentError.pastExpiryYear",invalid_expiry_month_past:"label.paymentError.pastExpiryMonth",insufficient_funds:"label.paymentError.insufficientFunds",invalid_account:"label.paymentError.invalidAccount",new_account_information_available:"label.paymentError.invalidAccount",issuer_not_available:"label.paymentError.unavailableIssuer",processing_error:"label.paymentError.cardProcessingError",reenter_transaction:"label.paymentError.issuerProcessingError",testmode_decline:"label.paymentError.declinedTestMode",card_not_supported:"label.paymentError.unsupportedCard",live_mode_test_card:"label.paymentError.stripeNotConnected",test_mode_live_card:"label.paymentError.stripeNotConnected",testmode_charges_only:"label.paymentError.stripeNotConnected",invalid_amount:"label.paymentError.invalidAmount",incomplete_number:"label.paymentError.cardNumberIncomplete",incomplete_cvc:"label.paymentError.cardCvcIncomplete",incomplete_expiry:"label.paymentError.cardExpiryIncomplete",api_connection_error:"stripe_connection_error",payment_method_unactivated:"label.paymentError.cardProcessingError",payment_method_unexpected_state:"label.paymentError.cardProcessingError",payment_intent_authentication_failure:"label.paymentError.authenticationFailure",payment_intent_incompatible_payment_method:"label.paymentError.cardProcessingError",payment_intent_invalid_parameter:"label.paymentError.cardProcessingError",payment_intent_payment_attempt_failed:"label.paymentError.cardProcessingError",payment_intent_unexpected_state:"label.paymentError.cardProcessingError"}},294:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n="googleAnalytics",o="facebookPixel",i="googleTagManager",a="Basic",c="Free"},295:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="sticky_footer"},296:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(237),o=r(242),i=r(9),a=r(91);function*c(){yield Object(n.f)(l),yield Object(n.f)(s),yield Object(n.f)(d)}function*l(){yield Object(n.k)(i.q),a.g()}function*s(){yield Object(n.k)(i.L);var e=yield Object(n.i)(o.e);a.e({response_id:e})}function*u(){a.d()}function*d(){yield Object(n.l)([i.q,i.a],u)}},297:function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return E})),r.d(t,"a",(function(){return x})),r.d(t,"d",(function(){return R}));var n=r(237),o=r(299),i=r(66),a=r(125),c=r(43),l=r(126),s=r(17),u=r(261),d=r(16),p=r(2),b=r(242),h=r(31),m=r(83),f=r(300),y=r(56),v=r(266),O=r(60),g=r(301),j=[5,10,15,30],w=e=>{var{code:t,details:r}=e;return"VALIDATION_ERROR"===t&&r&&r.length&&"RULE_MATCHED"===r[0].code},C=(e,t)=>v.a[t]||(e=>w(e)?"label.error.ruleMatched":"FORM_CHANGED"===e.code?"label.error.formChanged":"label.error.generic")(e),k=(e,t)=>t.hasOwnProperty("token")?t:{response_id:t.submission.response_id,token:t.signature,landed_at:t.submission.landed_at};function*E(){for(var e,t,r,o=0,c=yield Object(n.i)(d.d);!e;)try{e=yield Object(n.b)(u.c,c);var l=k(c,e);yield Object(n.g)(Object(i.d)(l.token,l.landed_at,l.response_id))}catch(c){if(w(c)){var s=(yield Object(n.i)(p.k))?a.b:a.a;return yield Object(n.g)(s()),void(e=!0)}yield Object(n.g)(Object(i.c)(c)),yield Object(n.d)((r=o%6,t=Math.floor(Math.pow(1.8,r)),1e3*t)),o++}}function*S(e,t){yield Object(n.d)(500),yield Object(n.g)(Object(c.d)(e,t)),yield*function*(){for(;yield Object(n.i)(b.g);)yield Object(n.d)(1e3),yield Object(n.g)(Object(i.a)())}(),yield*R()}function*I(e){var t=yield Object(n.i)(b.i),r=yield Object(n.i)(d.d),o=yield Object(n.i)(b.c),i=yield Object(n.i)(b.b),a=yield Object(n.i)(p.J);return yield Object(n.b)(u.d,{formId:r,landingId:o,landingAt:i,values:t,payment:e,outcome:a})}function*P(){yield Object(n.g)(Object(l.b)(null)),yield Object(n.g)(Object(l.a)(null))}function*T(e,t){var r=(e=>{var t=e&&e.code;return"PAYMENT_ERROR"===t&&e.details&&e.details.length&&(t=e.details[0].code),t})(e);if(r){var o=C(e,r),i=(e=>e&&e.description)(e),l=(e=>e&&e.details)(e);return yield Object(n.b)(P),yield Object(n.g)(Object(c.c)(o,r,i,l)),void(w(e)&&(yield Object(n.g)(Object(a.b)())))}return yield*S(t,"connection_error")}function*_(e){var t=(e=>e.decline_code||e.code||e.type)(e);return yield Object(n.b)(P),yield Object(n.g)(Object(c.c)(v.a[t]||"label.error.generic",t))}function*x(){var e=yield Object(n.i)(d.x);if(e)yield Object(n.d)(O.f),Object(o.a)(e);else{var t=yield Object(n.i)(h.c);yield Object(n.g)(Object(s.n)(t.ref))}}function*R(){var e=(e=>{var t=j.length,r=e>t?j[t-1]:j[e-O.g];return e?r:1})(yield Object(n.i)(b.f));if(yield Object(n.i)(y.c))return yield Object(n.g)(Object(a.b)());if(!(yield Object(n.i)(b.j)))return yield*S(e,"no_landing");try{var t=yield Object(n.i)(m.k);if(t)return yield*function*(e,t){try{var r=yield Object(n.i)(f.c);if(!r)throw new g.a("missing_stripe_account","label.error.generic");var o=yield Object(n.i)(f.b),i=yield Object(n.i)(f.a);if(o&&!i)return yield*D(o,r,t);if(i)return yield*A(i,o,r,t);var a=yield Object(n.i)(f.d),c=yield Object(n.b)(a.createPaymentMethod,e);return c.error?yield Object(n.b)(_,c.error):(o=c.paymentMethod&&c.paymentMethod.id,yield Object(n.g)(Object(l.b)(o)),yield*D(o,r,t))}catch(e){return yield T(e,t)}}(t,e);yield Object(n.b)(I),yield Object(n.g)(Object(c.e)())}catch(t){return yield T(t,e)}yield Object(n.b)(x)}function*D(e,t,r){try{var o=yield Object(n.b)(I,{provider:"stripe",stripe:{payment_method:e,account_id:t}});if("stripe"===o.provider){var i=yield Object(n.i)(f.d),a=yield Object(n.b)(i.handleCardAction,o.stripe.client_secret);if(a.error)return yield Object(n.b)(_,a.error);var s=a.paymentIntent.id;return yield Object(n.g)(Object(l.a)(s)),yield*A(s,e,t,r)}yield Object(n.g)(Object(c.e)())}catch(e){return yield T(e,r)}yield Object(n.b)(x)}function*A(e,t,r,o){try{yield Object(n.b)(I,{provider:"stripe",stripe:{payment_method:t,account_id:r},ref:e}),yield Object(n.g)(Object(c.e)())}catch(e){return yield T(e,o)}yield Object(n.b)(x)}},298:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(110),o={apiHost:Object(n.a)()&&window.__apiEntrypoint__?window.__apiEntrypoint__:"",endpoints:{forms:"forms/",submissions:"complete-submission",landings:"start-submission",uploads:"fields/",insights:"insights/events/"}}},299:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return s}));var n=r(166),o=r.n(n),i=r(91),a=r(121),c={allowUnknownSchemes:!0},l=e=>{u(e,"AFTER_SUBMIT_REDIRECT")},s=e=>{u(e,"THANK_YOU_SCREEN_REDIRECT")},u=(e,t)=>{if((e=>o()(e,c))(e)){if(Object(a.a)())switch(t){case"THANK_YOU_SCREEN_REDIRECT":i.f(e);break;case"AFTER_SUBMIT_REDIRECT":i.c(e)}try{var r=document.createElement("a");r.href=e,r.target=Object(a.a)()?"_parent":"",document.body.appendChild(r),r.click(),document.body.removeChild(r);var n=window.location.origin+window.location.pathname;if(e.includes(n)){var l=Object(a.a)()?window.parent:window;setTimeout(()=>l.location.reload(),500)}}catch(e){console.error(e)}}}},300:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return c}));var n=e=>e.paymentProviders.stripe,o=e=>n(e).accountId,i=e=>n(e).stripePaymentMethodId,a=e=>n(e).stripePaymentIntentId,c=e=>n(e).service},301:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends Error{constructor(e,t,r){super("".concat(e,": ").concat(t)),this.code=e,this.description=t,this.details=r}}},302:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r(237),o=r(7),i=r(239),a=r(16),c=r(85),l=r(9),s=r(265),u=()=>{if("undefined"!=typeof window&&window.newrelic)return window.newrelic},d=(e,t)=>{var r=u();r&&r.addPageAction(e,t)};function*p(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];yield Object(n.f)((function*(){var r=yield Object(n.k)(e);yield Object(n.b)(t,...o,r.payload)}))}function*b(){if(!(yield Object(n.i)(i.g))){var e=u();e&&(yield Object(n.k)(l.N),yield Object(n.b)(h,e),yield Object(n.b)(s.a,(function*(){yield Object(n.b)(m,e)})),yield*p(l.L,f,e),yield*p(l.J,v,e),yield*p(l.K,O,e),yield*p(l.I,y,e))}}function*h(e){var t=yield Object(n.i)(a.d),r=yield Object(n.i)(i.h),l=yield Object(n.i)(i.j);if(e.setCustomAttribute("isTouch",String(Object(o.m)())),e.setCustomAttribute("formUid",t),e.setCustomAttribute("sessionId",r),e.setCustomAttribute("accountLimitName",l&&l.accountLimitName),yield Object(n.i)(c.d)){var s=yield Object(n.i)(c.c);e.setCustomAttribute("embeddingMode",s)}}function m(e){e.addPageAction("startConversation")}function f(e){e.addPageAction("conversationSubmitted")}function y(e){e.addPageAction("submitRequest")}function v(e,t){var{errorCode:r,errorDescription:n,errorDetails:o}=t;e.addPageAction("submitFailed",{errorCode:r,errorDescription:n,errorDetails:JSON.stringify(o)})}function O(e,t){var{errorCode:r}=t;e.addPageAction("submitRetry",{errorCode:r})}},305:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(29),o=r(5),i=e=>e.ref,a=e=>Object(n.a)(e.ref)?Object(n.a)(e.value)?e:e.value:e.ref;function c(e,t){var r=[].concat(Object(n.a)(t)?[]:t).map(t=>{var r=a(t),n=((e,t)=>{var r,n=a(t);switch(e.type){case o.a.multipleChoice:case o.a.pictureChoice:case o.a.dropdown:case o.a.ranking:var i=e.choices.find(e=>e.ref===n);r=i?i.label:n;break;case o.a.payment:case o.a.matrix:r="";break;case o.a.date:r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMMDD",r=arguments.length>2?arguments[2]:void 0,[n,o,i]=r.split("-");switch(n=n?n.padStart(4,"0"):"\\_\\_\\_\\_",o=o?o.padStart(2,"0"):"\\_\\_",i=i?i.padStart(2,"0"):"\\_\\_",t){case"DDMMYYYY":return i+e+o+e+n;case"MMDDYYYY":return o+e+i+e+n;case"YYYYMMDD":return n+e+o+e+i}}(e.separator,e.structure,n);break;default:r="string"==typeof n?n:"number"==typeof n?n.toString():t.label}return r||""})(e,t);return{value:r,humanReadableText:n}});return{blockRef:i(e),value:r}}},316:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var n={AD:"376",AE:"971",AF:"93",AG:"1",AI:"1",AL:"355",AM:"374",AO:"244",AR:"54",AT:"43",AU:"61",AW:"297",AX:"358",AZ:"994",BA:"387",BB:"1",BD:"880",BE:"32",BF:"226",BG:"359",BH:"973",BI:"257",BJ:"229",BM:"1",BN:"673",BO:"591",BR:"55",BS:"1",BT:"975",BW:"267",BY:"375",BZ:"501",CA:"1",CD:"243",CF:"236",CG:"242",CH:"41",CI:"225",CL:"56",CM:"237",CN:"86",CO:"57",CR:"506",CU:"53",CV:"238",CY:"357",CW:"599",CZ:"420",DE:"49",DJ:"253",DK:"45",DM:"1",DO:"1",DZ:"213",EC:"593",EE:"372",EG:"20",ER:"291",ES:"34",ET:"251",FI:"358",FJ:"679",FK:"500",FM:"691",FO:"298",FR:"33",GA:"241",GB:"44",GD:"1",GE:"995",GG:"44",GH:"233",GI:"350",GM:"220",GN:"224",GP:"590",GQ:"240",GR:"30",GT:"502",GW:"245",GY:"592",HK:"852",HN:"504",HR:"385",HT:"509",HU:"36",ID:"62",IE:"353",IL:"972",IM:"44",IN:"91",IQ:"964",IR:"98",IS:"354",IT:"39",JE:"44",JM:"1",JO:"962",JP:"81",KE:"254",KG:"996",KH:"855",KM:"269",KN:"1",KP:"850",KR:"82",KW:"965",KY:"1",KZ:"7",LA:"856",LB:"961",LC:"1",LI:"423",LK:"94",LR:"231",LS:"266",LT:"370",LU:"352",LV:"371",LY:"218",MA:"212",MC:"377",MD:"373",ME:"382",MG:"261",MK:"389",ML:"223",MM:"95",MN:"976",MO:"853",MQ:"596",MR:"222",MS:"1",MT:"356",MU:"230",MV:"960",MW:"265",MX:"52",MY:"60",MZ:"258",NA:"264",NE:"227",NG:"234",NI:"505",NL:"31",NO:"47",NP:"977",NZ:"64",OM:"968",PA:"507",PE:"51",PF:"689",PG:"675",PH:"63",PK:"92",PL:"48",PR:"1",PS:"970",PT:"351",PW:"680",PY:"595",QA:"974",RE:"262",RO:"40",RS:"381",RU:"7",RW:"250",SA:"966",SB:"677",SC:"248",SD:"249",SE:"46",SG:"65",SH:"290",SI:"386",SK:"421",SL:"232",SM:"378",SN:"221",SO:"252",SR:"597",ST:"239",SV:"503",SY:"963",SZ:"268",TC:"1",TD:"235",TG:"228",TH:"66",TJ:"992",TL:"670",TM:"993",TN:"216",TO:"676",TR:"90",TT:"1",TW:"886",TZ:"255",UA:"380",UG:"256",US:"1",UY:"598",UZ:"998",VC:"1",VE:"58",VG:"1",VN:"84",VU:"678",WS:"685",YE:"967",ZA:"27",ZM:"260",ZW:"263"},o=e=>n[e]||"",i=(e,t)=>t.replace("+".concat(o(e)),""),a=()=>Object.keys(n)},385:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return g}));var n=r(6),o=r.n(n),i=r(237),a=r(261),c=r(43),l=r(9),s=r(16),u=r(2),d=r(242),p=r(297),b=r(296);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=()=>{var e=window.localStorage.getItem("submissions")||"[]";return JSON.parse(e)},y=e=>{window.localStorage.setItem("submissions",JSON.stringify(e))},v=()=>{var e=f(),t=e.shift();return y(e),t},O=e=>y([e,...f()]);function*g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;yield Object(i.f)(b.a),yield Object(i.f)(C,e),yield Object(i.f)(j)}function*j(){for(;;){yield Object(i.k)(l.I);var e=yield Object(i.i)(d.i),t=yield Object(i.i)(s.d),r=yield Object(i.i)(u.J);n={formId:t,landingId:null,landingAt:null,values:e,outcome:r},y([...f(),n]),yield Object(i.g)(Object(c.e)()),yield Object(i.b)(p.a)}var n}var w=e=>new Promise(t=>setTimeout(t,e));function*C(e){for(;;){if(window.navigator.onLine){var t=v();if(t)try{var r=yield Object(i.b)(a.c,t.formId),n=Object(p.b)(t.formId,r);yield Object(i.b)(a.d,m(m({},t),{},{landingId:n.token,landingAt:n.landed_at}));continue}catch(e){O(t)}}yield w(e)}}},43:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return b})),r.d(t,"a",(function(){return h}));var n=r(9),o=r(16),i=r(107),a=r(2),c=r(83),l=r(17),s=r(120);function u(e){var t=Object(i.a)(e);return(e,r)=>{var i=r();if(e(Object(s.b)(Object(a.j)(i))),e(Object(s.a)()),Object(c.i)(i)){var u=Object(o.l)(i);e(Object(l.c)()),e(function(e,t){return{type:n.I,payload:{isLivePreview:e,navigationType:t}}}(u,t))}else{Object(o.p)(i)||e(Object(l.d)()),e(Object(l.g)(t))}}}function d(){return{type:n.L}}function p(e,t){return{type:n.K,error:!0,payload:{retry:{timeout:e},errorCode:t}}}function b(e,t,r,o){return{type:n.J,error:!0,payload:{message:e,errorCode:t,errorDescription:r,errorDetails:o}}}function h(e,t){return(r,n)=>{var i=n();Object(o.r)(i,e)&&r(u(t))}}},524:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b}));var n=r(0),o=r.n(n),i=r(3),a=r(7),c=r(244),l=r(98),s=r(144),u=r.n(s),d=r(385),p=i.d.div.withConfig({displayName:"offline-mode-badge__Root",componentId:"sc-1qefiu2-0"})(["position:fixed;display:flex;align-items:center;justify-content:center;background:",";color:",";border-radius:3px;height:32px;width:32px;right:8px;top:8px;"],e=>e.backgroundColor,e=>e.contentColor);function b(e){var{theme:t}=e,[r,i]=Object(n.useState)(window.navigator.onLine),[s,b]=Object(n.useState)(Object(d.b)().length);return Object(n.useEffect)(()=>{var e=()=>{i(window.navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),Object(n.useEffect)(()=>{var e=setInterval(()=>{b(Object(d.b)().length)},1e3);return()=>{clearInterval(e)}},[]),window.navigator.serviceWorker.controller?0===s?o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},o.a.createElement(l.b,{svg:c.a,color:Object(a.g)(t.colors.button)})):r&&s>0?o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},o.a.createElement(u.a,{color:Object(a.g)(t.colors.button)})):o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},s):null}},527:function(e,t,r){"use strict";r.r(t);var n=r(477),o=r.n(n),i=r(6),a=r.n(i),c=r(113),l=r.n(c),s=r(278),u=r(301),d=r(5);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={[d.a.date]:"date",[d.a.dropdown]:"text",[d.a.email]:"email",[d.a.fileUpload]:"file_name",[d.a.legal]:"boolean",[d.a.longText]:"text",[d.a.multipleChoice]:"choices",[d.a.number]:"number",[d.a.opinionScale]:"number",[d.a.pictureChoice]:"choices",[d.a.rating]:"number",[d.a.shortText]:"text",[d.a.website]:"url",[d.a.yesNo]:"boolean",[d.a.payment]:"payment",[d.a.phoneNumber]:"phone_number",[d.a.ranking]:"choices"},m={[d.a.date]:"date",[d.a.dropdown]:"dropdown",[d.a.email]:"email",[d.a.fileUpload]:"file_upload",[d.a.legal]:"legal",[d.a.longText]:"long_text",[d.a.multipleChoice]:"multiple_choice",[d.a.number]:"number",[d.a.opinionScale]:"opinion_scale",[d.a.pictureChoice]:"picture_choice",[d.a.rating]:"rating",[d.a.shortText]:"short_text",[d.a.website]:"website",[d.a.yesNo]:"yes_no",[d.a.payment]:"payment",[d.a.phoneNumber]:"phone_number",[d.a.ranking]:"ranking"},f=(e,t)=>t.choices.find(t=>t.ref===e),y=(e,t)=>e.map(e=>{var r=f(e,t);return r?{id:r.id,label:r.label}:null}).filter(e=>null!==e);function v(e,t,r){var{block:n,answer:o}=e,i=void 0!==o?o[0]:"",a=h[n.type];switch(n.type){case d.a.ranking:i=y(o,n);break;case d.a.pictureChoice:case d.a.multipleChoice:i=((e,t)=>{var r,n=t.filter(t=>!!f(t,e)),o=null!==(r=t.find(t=>!f(t,e)))&&void 0!==r&&r,i=y(n,e);return o&&i.push({id:"other",label:o}),i})(n,o);break;case d.a.dropdown:i=((e,t)=>{var r=y(t,e);return r.length?r[0].label:t[0]})(n,o);break;case d.a.phoneNumber:i=Object(s.a)(i.number,i.countryCode).format("E.164");break;case d.a.date:i=function(e){var[t,r,n]=e.split("-"),o="".concat(t.padStart(4,"0"),"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"));return new Date(o).toISOString()}(i);break;case d.a.fileUpload:i=i.s3Filename;break;case d.a.payment:i=b({amount:t,currency:n.currency,name:i.cardholdersName},r);break;case d.a.shortText:case d.a.longText:case d.a.website:case d.a.email:if(""===i)return null}return function(e,t,r,n){return{field:{id:e,type:t},type:r,[r]:n}}(n.id,m[n.type],a,i)}function O(e,t){var r=e[t.variable],n=t.choices.find(e=>e.ref===r);if(!n)throw new u.a("MISSING_WINNING_OUTCOME","Could not find matching winning outcome","winningOutcomeRef:  ".concat(e[t.variable]));return n}t.default=function(e){var t,r,{formId:n,landingAt:i="",landingId:a,payment:c,values:{answers:s=[],hidden:u={},variables:d={}}={},outcome:p}=e,h=(t=u,Object.keys(t).map(e=>({key:e,value:t[e]}))),m=function(e,t){var r=o()(["price"],e);return Object.keys(r).map(r=>t&&r===t.variable?{key:r,type:"outcome_id",outcome_id:O(e,t).id}:{key:r,type:"number",number:e[r]})}(d,p),f=function(e,t){if(!t)return null;var r=O(e,t);return{id:r.id,title:r.title}}(d,p),y=function(e,t,r){return(n=e,o=e=>v(e,t,r),n.map(o).reduce((e,t)=>[].concat(e,t),[])).filter(e=>e&&void 0!==e.type);var n,o}(s,d.price,c),g=null===(r=l.a.get("hubspotutk")||null)?null:{hubspot:{utk:r,page_name:document.title,page_url:window.location.href}};return b(b(b(b(b({signature:a,form_id:n,landed_at:parseInt(i)},h.length?{hidden:h}:null),m.length?{variables:m}:null),y.length?{answers:y}:null),g?{integrations_metadata:g}:null),f?{outcome:f}:null)}},528:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"CENTER",(function(){return nt})),r.d(n,"BOTTOM",(function(){return ot}));var o=r(25),i=r(7),a=r(0),c=r.n(a),l=r(3),s=r(1),u=r.n(s),d=r(100),p=r.n(d),b=r(17),h=r(43),m=r(146),f=r(151),y=r(15),v=r(8),O=r(22),g=r(124),j=r(6),w=r.n(j),C=r(103),k=r.n(C),E=r(106),S=r(12),I=r.n(S),P=r(5),T=r(109),_=r(84),x=r(20),R=r(10),D=r.n(R),A=r(439),B=r.n(A),F=r(30),N=r(233),M=r(49),V=r.n(M),L=r(4),H=r(42),z=c.a.createContext(!1),q=z.Consumer,K=e=>t=>c.a.createElement(q,null,r=>c.a.createElement(e,D()({},t,{isBlockChanging:r}))),U=z,W=r(118);function Y(e){var{boundingClientRect:t={},onlyTop:r=!1,offsetTop:n=0,offsetBottom:o=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"function"!=typeof e.getBoundingClientRect)return!1;var i=e.getBoundingClientRect(),a={height:t.height||window.innerHeight||document.documentElement.clientHeight,top:t.top||0},c=i.top>=a.top+n,l=i.bottom<=a.height-o;return r?c:c&&l}var G=()=>"MacIntel"===navigator.platform,Q=r(26),J=r(60),Z=r(21),$=r.n(Z),X=e=>{var{color:t,warningText:r,actionText:n}=e;return c.a.createElement($.a,{color:t,size:"sizeN1",useDefaultFont:!0,dimmed:!0},r," - ",c.a.createElement("a",{href:"https://www.typeform.com/help/report-abuse",target:"_blank",rel:"noopener noreferrer"},n))},ee=r(236),te=["label.retrySubmit.first","label.retrySubmit.second","label.retrySubmit.third","label.retrySubmit.fourth"],re=e=>{var{count:t,timeout:r,t:n}=e;return 0===r?c.a.createElement("div",null,n("label.retryLink.retrying")):c.a.createElement(a.Fragment,null,c.a.createElement("div",{"data-qa":"retry-count","aria-hidden":"true"},n((e=>{var t=te.length;return e>t?te[t-1]:te[e-J.g]})(t),{timeout:r})),3===r?c.a.createElement(ee.a,{"aria-live":"assertive"},n("label.retryLink.counter",{timeout:r})):null)};re.defaultProps={t:e=>e};var ne=Object(_.a)(re),oe=e=>{var{centered:t,color:r,count:n,messageKey:o,t:i,timeout:a}=e;return c.a.createElement($.a,{role:"timer","aria-live":"assertive",size:"sizeN1",color:r,useDefaultFont:!0,align:t?"center":"left"},Object(Q.a)(i(o)),c.a.createElement(ne,{count:n,timeout:a}))};oe.defaultProps={messageKey:"label.warning.slowSubmission",t:e=>e};var ie=Object(_.a)(oe),ae=r(123),ce=r.n(ae),le=r(244),se=r(64),ue=e=>{var{ariaDescribedBy:t,backgroundColor:r,buttonColor:n,buttonContentColor:o,centered:i,disabled:a,helperColor:l,helperText:s,hideIcon:u,label:d,onClick:p,isVisible:b,buttonRef:h,t:m,hideHelperText:f}=e,y=Object(se.useIsTouch)(),v=b?"-visible":"";return c.a.createElement(ce.a,{ariaDescribedBy:t,centered:i,color:n,contentColor:o,content:Object(Q.a)(m(d)),contextBackgroundColor:r,dataQa:"ok-button".concat(v," deep-purple-ok-button").concat(v),disabled:a,helperColor:l,helperText:y?null:Object(Q.a)(m(s)),iconSvg:u?null:le.a,onClick:p,size:"medium",tabIndex:b?0:-1,buttonRef:h,hideHelperText:f})};ue.defaultProps={backgroundColor:i.b,buttonColor:i.b,helperColor:i.b,helperText:"label.buttonHint.default",hideHelperText:!1,hideIcon:!1,isVisible:!1,label:"label.button.ok",t:e=>e};var de=ue,pe=e=>{var{ariaDescribedBy:t,centered:r,disabled:n,fullWidth:o,helperText:a,isComplete:l,isLivePreview:s,isPaymentBlockAnswered:u,isSubmitting:d,isVisible:p,onClick:b,price:h,size:m,t:f,theme:y,buttonRef:v}=e,O=f("label.button.submit");u&&(O=f("label.button.submitAndPay",{price:h}));var g=y.colors.button;return c.a.createElement(ce.a,{ariaDescribedBy:t,buttonRef:v,centered:r,color:g,contentColor:y.colors.buttonContent,content:O,contextBackgroundColor:y.colors.background,dataQa:"submit-button deep-purple-submit-button",disabled:n||!s&&(d||l),fullWidth:o,helperColor:y.colors.primary,helperText:Object(i.m)()||r?"":Object(Q.a)(f(a)),isSpinning:!s&&d,isTransparent:y.hasTransparentButton,onClick:b,size:m,tabIndex:p?0:-1})};pe.defaultProps={centered:!1,helperText:"label.buttonHint.default",size:"large",theme:{colors:{backgroundColor:i.b,button:i.b,primary:i.b},hasTransparentButton:!1},t:e=>e};Object(_.a)(pe);var be=r(275),he=r.n(be),me=l.d.div.withConfig({displayName:"ErrorMessage__ErrorMessageWrapper",componentId:"zg4jt9-0"})(["position:absolute;width:100%;",";"],e=>e.centered&&"text-align: center"),fe=e=>{var{centered:t,errorMessageRef:r,id:n,message:o,visible:i}=e;return i?c.a.createElement(p.a,{isVisible:!0,type:"slideUp"},c.a.createElement(me,{centered:t},c.a.createElement(he.a,{dataQa:"error-message-visible",id:n,message:o,errorMessageRef:r,role:"alert",visible:!0}))):null};fe.defaultProps={visible:!1};var ye=fe,ve=l.d.div.withConfig({displayName:"block-footer__Root",componentId:"gb8zj2-0"})(["position:relative;"]),Oe=l.d.div.withConfig({displayName:"block-footer__SubmitButtonFooter",componentId:"gb8zj2-1"})(["width:100%;position:absolute;"]),ge=G()?"label.buttonHint.submit-mac":"label.buttonHint.submit",je=e=>{var t,{ariaDescribedBy:r,blockError:n,blockRef:o,buttonText:l,errorMessageId:s,errorMessageRef:u,hideHelperText:d,hideIcon:b,isActive:h,isAnimated:m,isButtonFullWidth:f,isButtonTypeSubmit:y,isButtonVisible:O,isErrorMessageVisible:g,isLivePreview:j,isPaymentBlockAnswered:w,isSubmitButtonVisibilityForced:C,layout:k,layoutItemsSize:E,onClick:S,onFocusLost:I,onRequireStickyFooter:P,price:T,showPhishingMessage:_,submit:x,submitErrorMessageId:R,submitErrorMessageKey:D,submitForm:A,t:B,theme:N,trackInlineSubmit:M}=e,{isComplete:V,isSubmitting:z,retry:q}=x,K=Object(a.useRef)(null),G=Object(a.useContext)(U),Z=Object(W.b)(o),[$,ee]=Object(a.useState)(!1),te=Object(v.h)(null===(t=N.fields)||void 0===t?void 0:t.alignment,k.type)===v.e.CENTER,re=f||te;Object(a.useEffect)(()=>{if(K.current){var e=!G&&O&&h&&!Y(K.current,E);P(o,e)}},[Z,G,O,h,o,K,E]),Object(a.useEffect)(()=>{var e=null;return O?e=setTimeout(()=>{ee(y)},200):ee(!1),()=>clearTimeout(e)},[y,O]),Object(a.useEffect)(()=>{O&&y&&M(o)},[O,y]);var ne=O&&y,oe=O&&!y,ae=Object(a.useRef)(),ce=Object(a.useRef)();Object(a.useEffect)(()=>{var e=null;return C&&Object(i.m)()&&(e=setTimeout(()=>ce.current.focus(),J.d+100)),()=>clearTimeout(e)},[C]);var le=Object(a.useRef)(ne),se=Object(a.useRef)(oe),ue=ce.current===document.activeElement,be=ae.current===document.activeElement,he=le.current&&!ne&&ue,me=se.current&&!oe&&be;return G||!he&&!me||I(),le.current=ne,se.current=oe,c.a.createElement(ve,null,c.a.createElement(F.a,{top:L.p.topBlockFooter},c.a.createElement(ye,{centered:te,id:s,errorMessageRef:u,message:Object(Q.a)(B(null==n?void 0:n.label,null==n?void 0:n.getPipingValues())),visible:g}),c.a.createElement("div",{ref:K,"data-qa-button-visible":O},c.a.createElement(Oe,null,c.a.createElement(p.a,{type:"slideUp",isVisible:ne,delay:O&&!$?J.d:0,duration:m?J.d:0},c.a.createElement(H.b,{position:re?"center":"left"},c.a.createElement(pe,{ariaDescribedBy:r,centered:re,fullWidth:f,helperText:ge,isComplete:V,disabled:!ne,isLivePreview:j,isPaymentBlockAnswered:w,isSubmitting:z,isVisible:O,onClick:A,price:T,size:"medium",t:B,theme:N,buttonRef:ce})),c.a.createElement(F.b,{top:2},$&&_&&!q.showMessage&&!D&&c.a.createElement(H.b,{position:re?"center":"left"},c.a.createElement(X,{color:N.colors.primary,warningText:B("label.warning.phishing"),actionText:B("label.action.phishing")})),q.showMessage&&c.a.createElement(ie,{centered:te,color:N.colors.primary,count:q.count-1,timeout:q.timeout}),!!D&&c.a.createElement(ye,{centered:te,id:R,message:Object(Q.a)(B(D)),errorMessageRef:u,visible:!!D})))),c.a.createElement(p.a,{type:"slideUp",isVisible:oe,delay:O&&$?J.d:0,duration:m?J.d:0},c.a.createElement(de,{ariaDescribedBy:r,backgroundColor:N.colors.background,buttonColor:N.colors.button,buttonContentColor:N.colors.buttonContent,centered:te,helperColor:N.colors.primary,helperText:"label.buttonHint.default",hideIcon:b,disabled:!oe,isVisible:O,label:l,onClick:S,t:B,buttonRef:ae,hideHelperText:d})))))},we=Object(_.a)(e=>c.a.createElement(y.ResponsiveConsumer,null,t=>{var{width:r}=t,n=r<L.n.md&&!e.isLivePreview;return c.a.createElement(je,D()({isButtonFullWidth:n},e))}));je.defaultProps={hideHelperText:!1,isAnimated:!0,showPhishingMessage:!0,submit:{retry:{},isComplete:!1,isSubmitting:!1},onRequireStickyFooter:x.a,submitForm:x.a,onFocusLost:x.a,trackInlineSubmit:x.a,theme:{colors:{primary:i.b,background:i.b}},t:e=>e};var Ce=r(170),ke=r(66),Ee=r(16),Se=r(2),Ie=r(83),Pe=r(13),Te=r(242),_e=r(239),xe=r(32),Re=r(55),De={onRequireStickyFooter:Ce.a,trackInlineSubmit:ke.f},Ae=Object(o.b)((e,t)=>{var{blockRef:r,errorMessageId:n,errorMessageRef:o,validationError:i,hideButton:a,hideHelperText:c,isErrorMessageVisible:l}=t,s=Object(Pe.j)(e,r),u=Object(Pe.g)(e,r),d=Object(Re.b)(e,r),p=Object(Pe.b)(e,r),b=s&&(!u||d)||Object(Ee.r)(e,r),h=Object(Ee.g)(e);return{errorMessageId:n,errorMessageRef:o,hideHelperText:c||u||p,isActive:Object(Se.z)(e,r),isButtonTypeSubmit:Object(Ee.h)(e,r),isErrorMessageVisible:l,isLivePreview:Object(Ee.l)(e),isSubmitButtonVisibilityForced:Object(Ee.c)(e),isPaymentBlockAnswered:Object(Ie.m)(e),isButtonVisible:!l&&!a&&!h&&b,price:Object(Se.L)(e),showPhishingMessage:Object(_e.e)(e),submit:Object(Se.P)(e),submitErrorMessageId:"".concat(r,"-submission-error-message"),submitErrorMessageKey:Object(Te.h)(e),theme:Object(xe.f)(e),validationError:i}},De)(we),Be=r(418),Fe=r(419),Ne=r(303),Me=r.n(Ne);function Ve(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{t&&("function"!=typeof t?t.current=e:t(e))})}}var Le=e=>{var{children:t,htmlFor:r,id:n,htmlTag:o,required:i,t:a}=e,l=i&&c.a.createElement(ee.a,null,a("a11y.label.required"));return c.a.createElement(V.a,{"aria-hidden":"legend"===o?"true":null,"aria-live":"polite",type:L.i.blockTitle,htmlTag:"legend"===o?"span":o,htmlFor:"label"===o?r:null,"data-qa":"block-title deep-purple-block-title",id:n},t,l)};Le.defaultProps={htmlTag:"span",required:!1};var He=Le,ze=r(420),qe=r.n(ze),Ke=r(86),Ue=r(51),We=Ue.a?0:100,Ye=l.d.div.withConfig({displayName:"block-scroller__Root",componentId:"sc-23jz1-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;&:focus{outline:none;}"]),Ge=l.d.div.withConfig({displayName:"block-scroller__Positioner",componentId:"sc-23jz1-1"})(["min-height:100%;display:flex;flex-direction:column;justify-content:center;"]),Qe=e=>!!e&&e.scrollTop+30>=e.scrollHeight-e.clientHeight,Je=e=>!!e&&e.scrollTop-30<=0,Ze=e=>{var{blockRef:t,children:r,endAutoScroll:n,isActive:o,onChangeCanSwipe:i,onKeyDown:l,onRequireStickyHeader:s,onScroll:u,isScrollNearTop:d,scrolling:p}=e,b=Object(a.useRef)(),h=Object(a.useRef)(),[m,f]=Object(a.useState)(null),y=Object(a.useContext)(U),v=Object(W.c)(t),O=Object(a.useCallback)(Object(Ke.debounce)(We,()=>{if(b.current){o&&(i({next:Qe(b.current),previous:Je(b.current)}),u());var e=b.current.scrollTop;v(e),e>88&&d?s(!0):e<=88&&!d&&s(!1)}}),[o,d,b.current,i,u]);return Object(a.useEffect)(()=>{o||y||!Je(b.current)&&b.current&&(b.current.scrollTop=0)},[y,o]),Object(a.useEffect)(()=>{o&&i({next:Qe(b.current),previous:Je(b.current)})},[o]),Object(a.useEffect)(()=>{if(o&&p&&"recenter"===p.scrollType&&"bottom"===p.anchor&&b.current){var e=Ue.a?0:200;qe()(b.current,"scrollTop",b.current.scrollHeight-b.current.clientHeight,e,"easeOutCubic",n)}},[p]),Object(a.useEffect)(()=>{var e=b.current,t=h.current;if(e&&t){var r=t.clientHeight>e.clientHeight;0!==m&&r?f(0):null===m||r||f(null)}}),c.a.createElement(Ye,{"data-qa":"block-scroller",onScroll:O,onKeyDown:l,ref:b,tabIndex:m},c.a.createElement(Ge,{ref:h},r))};Ze.defaultProps={endAutoScroll:x.a,onKeyDown:x.a,onChangeCanSwipe:x.a,onScroll:x.a};var $e=Ze,Xe="\n  a[href]:not([tabindex='-1']),\n  area[href]:not([tabindex='-1']),\n  input:not([disabled]):not([tabindex='-1']),\n  select:not([disabled]):not([tabindex='-1']),\n  textarea:not([disabled]):not([tabindex='-1']),\n  button:not([disabled]):not([tabindex='-1']),\n  iframe:not([tabindex='-1']),\n  [tabindex]:not([disabled]):not([tabindex='-1']),\n  [contentEditable=true]:not([tabindex='-1'])\n  ";var et=(e,t)=>{var r=function(e){return"undefined"!=typeof window&&"undefined"!=typeof document&&(!(!e||"function"!=typeof e.contains)&&(e===document.activeElement||e.contains(document.activeElement)))}(e),n=()=>{if(e&&!r&&t)if(Object(i.m)())document.activeElement.blur();else{var n=(e=>e.matches(Xe)?e:e.querySelector(Xe))(e);n?n.focus():document.body.focus()}};Object(a.useEffect)(()=>{var e=setTimeout(n,J.c);return()=>clearTimeout(e)},[e,t])},tt=c.a.forwardRef((e,t)=>{var r,n,o,l,s,u,d,p,{attachment:b,isBlockListVisible:h,blockRef:m,childOfGroup:f,children:O,description:g,endAutoScroll:j,isActive:w,isAnswered:C,isScrollNearTop:k,isShaking:E,isFocused:S,layout:I,listIndexText:P,onChangeCanSwipe:T,onKeyDown:_,onRequireStickyHeader:x,onScroll:R,scrolling:D,theme:A,titleLabelId:B,titleFor:F,titleTag:M,titleText:H,titleCounterIcon:z,type:q,uniqueId:K,validations:U,isVideoPlaying:W,onVideoClick:Y}=e,G=Object(a.useRef)(null),[Q,J]=Object(a.useState)(0),Z=Object(y.useBreakpoint)(),$="legend"===M,X=I.type,ee=X===v.d.STACK?b:I.attachment,te=null!==(r=null==ee||null===(n=ee.properties)||void 0===n?void 0:n.focalPoint)&&void 0!==r?r:v.a,re=Object(v.h)(null===(o=A.fields)||void 0===o?void 0:o.alignment,I.type);Object(a.useEffect)(()=>{if(!G.current)return null;J(G.current.clientHeight);var e=()=>{G.current&&J(G.current.clientHeight)};return window.addEventListener("resize",e,!0),()=>window.removeEventListener("resize",e,!0)},[null===(l=G.current)||void 0===l?void 0:l.clientHeight]);var ne="header-counter-".concat(m);et(G.current,S);var oe=h&&(w||!Object(i.m)()),ie=f&&P?"".concat(P,"."):P;return c.a.createElement(Fe.a,{layoutType:X,breakpoint:Z,dataQa:"blocktype-".concat(q," deep-purple-blocktype-").concat(q),id:m,isActive:w,isAnswered:C,isShaking:w&&E,isVisible:oe,ref:Ve(t,G),layoutPlacement:I.placement},c.a.createElement($e,{blockRef:m,endAutoScroll:j,isActive:w,onChangeCanSwipe:T,onRequireStickyHeader:x,onScroll:R,onKeyDown:_,isScrollNearTop:k,scrolling:D},c.a.createElement(Be.a,{attachmentFocalPoint:te,attachmentHref:null==ee?void 0:ee.href,attachmentType:null==ee?void 0:ee.type,attachmentScale:null==ee?void 0:ee.scale,attachmentAlt:null==ee||null===(s=ee.properties)||void 0===s?void 0:s.description,breakpoint:Z,description:g&&c.a.createElement(V.a,{align:re,"aria-hidden":$?"true":null,type:L.i.blockDescription,color:null==A||null===(u=A.colors)||void 0===u?void 0:u.primary,htmlTag:"p",dataQa:"block-description",id:Object(N.b)(K)},g),isActive:w,isFieldset:$,layoutType:X,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",outerHeight:Q,required:null==U?void 0:U.required,textAlign:re,title:c.a.createElement(Me.a,{title:c.a.createElement(He,{required:null==U?void 0:U.required,blockRef:m,t:e.t,id:B,htmlFor:F,htmlTag:M},H),color:null==A||null===(d=A.colors)||void 0===d?void 0:d.primary,required:null==U?void 0:U.required,counterId:ne,counterIcon:f&&P?null:z,counterColor:null==A||null===(p=A.colors)||void 0===p?void 0:p.secondary,counterContent:ie,textAlign:re}),counterContent:ie,titleText:H,descriptionText:g,isVideoPlaying:W,onVideoClick:Y},O)))});tt.displayName="BlockWrapper",tt.defaultProps={theme:{colors:{primary:i.b,secondary:i.b}},titleCounterIcon:Ne.COUNTER_ICONS.ARROW,validations:{},onScroll:x.a};var rt=tt,nt="center",ot="bottom",it=r(61),at=r(99),ct=(e,t,r)=>P.a.number!==e||Object(it.j)(r)||Object(it.h)(r)||Object(it.k)(r)?e===P.a.number&&t&&t<=r.target.value.length&&!Object(it.h)(r)||e===P.a.shortText&&t&&t<=r.target.value.length&&!Object(it.h)(r)||e===P.a.longText&&t&&t<=r.target.value.length&&!Object(it.h)(r)?(r.preventDefault(),{blocked:!0,error:new at.a("maxLength")}):{blocked:!1}:(r.preventDefault(),{blocked:!0,error:new at.f}),lt=(e,t)=>{var r=t.nativeEvent||t,n=Object(it.o)([it.c,it.a,it.h],r,t.target);Object(it.e)(r)&&(n=!1),P.a.number===e&&Object(it.g)(t)&&t.preventDefault(),n&&t.stopPropagation()},st=(e,t)=>{var r,n=null===(r=t.clipboardData)||void 0===r?void 0:r.types;if(n){var o=n instanceof DOMStringList&&n.contains("text/html")||n.includes("text/html"),i=n instanceof DOMStringList&&n.contains("text/plain")||n.includes("text/plain");if(o||i){var a="";if(t.clipboardData&&(a=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain")),e&&e<a.length)return{blocked:!0,error:new at.a("maxLength")}}}return{}},ut=r(28),dt=e=>{var[t,r]=Object(a.useState)(!1),n=Object(a.useRef)();function o(){clearTimeout(n.current)}return[t,function(t){r(t),o(),t&&(n.current=setTimeout(()=>r(!1),e))},o]},pt=["INPUT","TEXTAREA","LI","SELECT","BUTTON"],bt=["radio"],ht=c.a.createContext();ht.displayName="GlobalEventListenerContext";var mt=e=>{var{children:t,commonHandleKeydown:r}=e,n=Object(a.useRef)(null);return Object(a.useEffect)(()=>{var e=e=>{var t,o=e.target.nodeName,i=(null===(t=e.target.attributes)||void 0===t?void 0:t.getNamedItem("role"))&&e.target.attributes.getNamedItem("role").value,a=pt.includes(o)||bt.includes(i);if(!a){var c,l=null===(c=n.current)||void 0===c?void 0:c.onGlobalKeyDown;l&&l(e)}r(e,a)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r]),c.a.createElement(ht.Provider,{value:e=>{n.current={onGlobalKeyDown:e}}},t)},ft=(e,t)=>{var r=Object(a.useContext)(ht);Object(a.useEffect)(()=>{e&&r(t)},[e,t])},yt=ht.Consumer;yt.displayName="GlobalEventListenerContextConsumer";var vt=e=>t=>c.a.createElement(yt,null,r=>c.a.createElement(e,D()({},t,{updateGlobalEventListenerRef:r}))),Ot=(e,t)=>e.isActive||t.isActive||e.isCommitted!==t.isCommitted||e.layoutItemsSize!==t.layoutItemsSize,gt=(e,t)=>!Ot(e,t),jt=e=>{var{blockRef:t,validationError:r,isActive:o,isCommitted:l,isValid:s,layout:u,layoutItemsSize:d,onCommitAnswer:p,onInputBlur:b,onInputFocus:h,onRequireStickyFooter:m,onStageAnswer:f,placeholder:y,recenter:v,submitForm:O,t:g,theme:j,title:w,type:C,uniqueId:k,validations:E,hasDescription:S}=e,[I,P,T]=dt(J.i),[_,x,R]=dt(J.b),[A,M]=Object(a.useState)(""),H=Object(a.useRef)(),z=H.current===document.activeElement,q=l&&!s||_,K=Object(N.a)({uniqueId:k,isErrorMessageVisible:q,hasDescription:S,hasInputInstructions:!0});function U(e){if(o){var r=e.target.value;E.maxLength&&(r=r.slice(0,E.maxLength)),f(t,r,e)}}Object(a.useEffect)(()=>()=>{T(),R()},[]);var W=Object(a.useCallback)(e=>{lt(C,e),Object(i.m)()||!Object(it.h)(e)||Object(it.l)(e)||Object(it.f)(e)||(e.preventDefault(),o&&p(t,e))},[t,o,p,C]);ft(o,W);var Y=e.value.length>0?e.value[0]:"";return c.a.createElement(rt,D()({},e,{isShaking:I,titleFor:k,titleTag:"label",titleText:w}),c.a.createElement(B.a,{ariaDescribedBy:K,placeholder:g(y),maxLength:E.maxLength,onChange:U,onResize:function(e){U(e);var t=e.target.value;if(t.split("\n").length-t.substr(0,e.target.selectionStart).split("\n").length<=3&&o&&!Object(ut.d)()){var{BOTTOM:r,CENTER:i}=n;v(r,i,!0)}},onKeyDown:W,onKeyPress:function(e){var{blocked:t,error:r}=ct(C,E.maxLength,e);P(t),x(t),M(r)},onPaste:function(e){var{blocked:t,error:r}=st(E.maxLength,e);P(t),x(t),M(r)},onFocus:function(){Object(i.m)()&&(h(),Object(ut.d)()||setTimeout(()=>{v(ot)},700))},onBlur:b,innerRef:H,id:k,value:Y,color:j.colors.secondary}),!Object(i.m)()&&c.a.createElement(F.a,{top:L.p.topHint},c.a.createElement(V.a,{color:j.colors.secondary,fontWeight:"regular",htmlTag:"p",id:Object(N.d)(k),type:L.i.answerHint},Object(Q.a)(g("block.longText.hint")))),c.a.createElement(Ae,{buttonColor:j.colors.button,helperColor:j.colors.primary,backgroundColor:j.colors.background,errorMessageId:Object(N.c)(k),blockError:_?A:r,isErrorMessageVisible:q,onRequireStickyFooter:m,blockRef:t,onClick:function(e){var r=z&&Object(i.m)();H.current&&r&&H.current.blur(),e.stopPropagation(),e.persist(),setTimeout(()=>{o&&p(t,e)},r?700:0)},layout:u,layoutItemsSize:d,submitForm:O}))};jt.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,recenter:x.a,t:x.a,theme:{colors:{backgroundColor:i.b,button:i.b,primary:i.b,secondary:i.b}},validations:{maxLength:null},value:[]};var wt=Object(a.memo)(jt,gt),Ct=r(245),kt=r.n(Ct),Et=r(24),St=r(122),It=e=>{e.preventDefault(),e.stopPropagation()},Pt=(e,t,r)=>{var n=t.nativeEvent;if(null!=n&&n.inputType)return!1;var o=(new Date).getTime();if(e&&(e.key&&"Unidentified"!==e.key||"paste"===e.type)&&o-e.timestamp<500)return!1;var i=t.target.value||"";return!(""===i||i.length+1<=r.length||i.replace(r,"").length<2)},Tt="year",_t="month",xt="day",Rt=l.d.div.withConfig({displayName:"date-input__Root",componentId:"sc-1e3716c-0"})(["display:flex;align-items:baseline;width:fit-content;",";"],e=>e.textAlign===v.e.CENTER?"margin:auto":""),Dt=Object(l.d)(kt.a).withConfig({displayName:"date-input__DayInput",componentId:"sc-1e3716c-1"})(["width:calc(2ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(2em);}"]),At=Object(l.d)(kt.a).withConfig({displayName:"date-input__YearInput",componentId:"sc-1e3716c-2"})(["width:calc(4ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(4em);}"]),Bt=Object(l.d)(kt.a).withConfig({displayName:"date-input__MonthInput",componentId:"sc-1e3716c-3"})(["width:calc(2ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(2em);}"]),Ft=Object(l.d)(F.b).withConfig({displayName:"date-input__Separator",componentId:"sc-1e3716c-4"})(["align-self:flex-end;"]),Nt=e=>Math.floor(Math.log10(e))+1,Mt={[Tt]:At,[_t]:Bt,[xt]:Dt},Vt={[Tt]:"block.date.label.year",[_t]:"block.date.label.month",[xt]:"block.date.label.day"},Lt={[Tt]:9999,[_t]:12,[xt]:31},Ht={[_t]:"00",[xt]:"00"},zt=(e,t)=>Math.min(Lt[e],Math.max(0,t)),qt=e=>{var{ariaDescribedBy:t,color:r,dayValue:n,id:o,isActive:i,monthValue:l,onDayChange:s,onEnterKey:u,onInvalidInput:d,onMonthChange:p,onYearChange:b,order:h,readOnly:m,separator:f,textAlign:y,t:v,yearValue:O}=e,g=Object(a.useRef)(),j=Object(a.useRef)(),w=Object(a.useRef)(),C={[Tt]:g,[_t]:j,[xt]:w},k={[Tt]:O,[_t]:l,[xt]:n},E={[Tt]:b,[_t]:p,[xt]:s},S=e=>t=>{var r=t.target.value,n=parseInt(r,10);!isNaN(n)&&r.match(/^[0-9]+$/)||""===r?""===r||((e,t)=>{var r=parseInt(t,10),n=Nt(Lt[e]);return!((null==t?void 0:t.length)>n||t===Ht[e])&&(r>=0&&r<=Lt[e])})(e,r)?E[e](r,t):d(new at.e):d(new at.f)},I=e=>t=>{"0"===t.target.value&&e!==Tt&&d(new at.e)},P=Object(a.useCallback)(e=>t=>{if(e){var r=parseInt(k[e]||0,10);if(Object(it.b)(t))return It(t),void E[e](zt(e,r-1).toString());if(Object(it.d)(t))return It(t),void E[e](zt(e,r+1).toString())}Object(it.h)(t)&&!Object(it.f)(t)&&(t.preventDefault(),u(t))},[E,u]);return ft(i,P(null)),c.a.createElement(Rt,{textAlign:y},[h[0],"separator",h[1],"separator",h[2]].map((e,n)=>{if("separator"===e)return c.a.createElement(Ft,{key:n,bottom:1,left:"/"===f?2.5:1.5,right:"/"===f?2:1.5},c.a.createElement(V.a,{type:L.i.inputText,color:r},f));var i=Mt[e];return c.a.createElement(a.Fragment,{key:n},c.a.createElement(Et.e,{vertical:!0},c.a.createElement(F.b,{bottom:1},c.a.createElement($.a,{color:r,htmlFor:"".concat(o,"-").concat(e),htmlTag:"label",size:"sizeN1"},v(Vt[e]))),c.a.createElement(i,{"aria-describedby":t,color:r,dataQa:"date-input-".concat(e.toLowerCase()),getRef:C[e],inputId:"".concat(o,"-").concat(e),inputType:"text",isReadOnly:m,maxDigits:Nt(Lt[e]),onChange:S(e),onBlur:I(e),onKeyDown:P(e),tabIndex:m?-1:null,value:k[e]})))}))};qt.defaultProps={colors:i.b,onDayChange:x.a,onMonthChange:x.a,onYearChange:x.a,order:[xt,_t,Tt],t:e=>e,dayValue:"",monthValue:"",yearValue:""};var Kt=Object(St.a)(qt),Ut=l.d.div.withConfig({displayName:"mobile-date-input__InputWrapper",componentId:"dshvny-0"})(["position:relative;"]),Wt=l.d.input.withConfig({displayName:"mobile-date-input__GhostInput",componentId:"dshvny-1"})(["position:absolute;width:100%;height:100%;top:0;opacity:0;min-width:100%;"]),Yt=e=>{var{ariaDescribedBy:t,color:r,dayValue:n,id:o,monthValue:i,onDateChange:a,order:l,separator:s,textAlign:u,yearValue:d}=e;return c.a.createElement(Ut,null,c.a.createElement("div",{"aria-hidden":!0},c.a.createElement(Kt,{color:r,dayValue:n,id:o,monthValue:i,order:l,readOnly:!0,separator:s,textAlign:u,yearValue:d})),c.a.createElement(Wt,{"aria-describedby":t,onChange:e=>{var t=e.target.value;a(t,e)},type:"date"}))};Yt.defaultProps={onDateChange:x.a,onInputBlur:x.a,onInputFocus:x.a,t:x.a};var Gt=Yt,Qt={MMDDYYYY:[_t,xt,Tt],DDMMYYYY:[xt,_t,Tt],YYYYMMDD:[Tt,_t,xt]},Jt=e=>{var{blockRef:t,validationError:r,isCommitted:n,isValid:o,layout:l,layoutItemsSize:s,onCommitAnswer:u,onStageAnswer:d,separator:p,submitForm:b,structure:h,textAlign:m,theme:f,uniqueId:y,isActive:v}=e,[O,g,j]=dt(J.i),[w,C,k]=dt(J.b),[E,S]=Object(a.useState)(""),I=e.value&&e.value[0]||"",[P="",T="",_=""]=I.split("-"),x="".concat(y,"-error-message"),R=n&&!o||w;Object(a.useEffect)(()=>()=>{j(),k()},[]);var A=(e,r,n,o)=>{var i="".concat(e,"-").concat(r,"-").concat(n);""===e&&""===r&&""===n&&(i=null),d(t,i,o)};return c.a.createElement(rt,D()({},e,{titleTag:"legend",titleText:e.title,isShaking:O}),Object(i.m)()?c.a.createElement(Gt,{ariaDescribedBy:R?x:null,id:y,onDateChange:(e,r)=>{d(t,e,r)},order:Qt[h],dayValue:_,monthValue:T,yearValue:P,separator:p,textAlign:m,color:f.colors.secondary}):c.a.createElement(Kt,{ariaDescribedBy:R?x:null,id:y,onEnterKey:e=>{g(!1),C(!1),u(t,e)},order:Qt[h],dayValue:_,monthValue:T,yearValue:P,separator:p,textAlign:m,onDayChange:(e,t)=>{A(P,T,e,t)},onMonthChange:(e,t)=>{A(P,e,_,t)},onYearChange:(e,t)=>{A(e,T,_,t)},color:f.colors.secondary,onInvalidInput:e=>{S(e),g(!0),C(!0)},isActive:v}),c.a.createElement(Ae,{blockRef:t,errorMessageId:x,blockError:w?E:r,isErrorMessageVisible:R,layout:l,layoutItemsSize:s,onClick:e=>{e.stopPropagation(),u(t,e)},submitForm:b}))};Jt.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,submitForm:x.a,t:x.a,theme:{colors:{secondary:i.b}},value:[]};var Zt=Jt,$t=r(62),Xt=r.n($t),er=r(247),tr=r(514),rr=r(261);function nr(e){return new Promise((t,r)=>{var n=new window.FileReader;n.onload=e=>t(e.target.result),n.onerror=r,n.readAsDataURL(e)})}var or=["image/png","image/gif","image/jpeg","image/svg+xml"],ir=e=>or.some(t=>e===t),ar=e=>{var{validationError:t,isCommitted:r,isValid:n,title:o,theme:i,layout:l,layoutItemsSize:s,isActive:u,isLivePreview:d,onCommitAnswer:p,blockRef:b,onStageAnswer:h,uniqueId:m,value:f,hasDescription:y,submitForm:v}=e,[O,g]=Object(a.useState)(),[j,w]=Object(a.useState)(!1),[C,k]=Object(a.useState)(0),[E,S]=Object(a.useState)(!1),I=f&&f.length>0?f[0]:void 0,P=!!O||r&&!n,T=Object(N.a)({uniqueId:m,isErrorMessageVisible:P,hasDescription:y}),_=j?tr.a.UPLOADING:I?tr.a.PREVIEW:tr.a.INPUT,x=Object(a.useRef)(null),R=e=>{e.stopPropagation(),u&&p(b,e)},A=Object(a.useCallback)(e=>{E?Object(it.h)(e)&&!Object(it.f)(e)&&(e.stopPropagation(),R(e)):e.stopPropagation()},[E,R]);ft(u,A);var B=e=>{k(e)},F=e=>{h(b,{value:e,label:e.name}),w(!1),x.current&&x.current.focus()},M=function(){var e=Xt()((function*(e){try{yield V(e)}catch(e){(e=>{w(!1);var t="file-size-exceeded"===(e&&e.message)?new at.c:new at.d;g(t)})(e)}}));return function(t){return e.apply(this,arguments)}}(),V=function(){var t=Xt()((function*(t){w(!0),k(0),g(null);var{formId:r,id:n}=e,o=yield Object(rr.b)(r,n),i=o.max_size||o.maxSize;if(t.size>i)throw new Error("file-size-exceeded");var a=yield Object(rr.e)(t,o,B),c=ir(t.type)?yield nr(t):null;F({name:t.name,type:t.type,s3Filename:a,blob:c})}));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=Xt()((function*(e){w(!0),k(0),g(null);var t=ir(e.type)?yield nr(e):null;F({name:e.name,type:e.type,s3Filename:"",blob:t})}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(rt,D()({},e,{titleFor:m,titleTag:"label",titleText:o,onKeyDown:A}),c.a.createElement(er.a,{onEnter:()=>S(!0),onLeave:()=>S(!1)},c.a.createElement("div",null,c.a.createElement(tr.b,{ariaDescribedBy:T,fileBlob:I&&I.blob,handleCancel:()=>{h(b,null),x.current&&(x.current.value=null,x.current.focus())},handleChange:e=>{var{files:t}=e.target;d?L(t[0]):t.length&&M(t[0])},handleDrop:e=>{var t=e.dataTransfer.files;d?L(t[0]):M(t[0])},handleKeyDown:e=>{Object(it.h)(e)&&!Object(it.f)(e)&&e.stopPropagation()},inputId:m,isActive:u,originalFileName:I&&I.name,phase:_,uploadProgress:C,value:I,theme:i,ref:x,primaryColor:i.colors.primary,secondaryColor:i.colors.secondary}),c.a.createElement(Ae,{blockRef:b,blockError:O||t,errorMessageId:Object(N.c)(m),hideHelperText:!0,isErrorMessageVisible:P,layout:l,layoutItemsSize:s,onClick:R,submitForm:v}))))};ar.defaultProps={file:{},onCommitAnswer:x.a,onStageAnswer:x.a,submitForm:x.a,theme:{colors:{primary:"#FF00FF",secondary:"#FF00FF"}}};var cr=ar,lr=r(434),sr=r(515),ur=r(435),dr=r(277),pr=r(516),br=r(436),hr=r.n(br),mr=r(438);function fr(e){return e>="a"&&e<="z"}var yr="ABCDEFGHIJKLMNOPQRSTUVWXYZ",vr=e=>{var t=Math.floor(e%yr.length);return yr[t]};var Or=function e(t){return t>=yr.length?e(Math.floor(t/yr.length)-1)+vr(t):vr(t)},gr=e=>{var t,r;if(null===(t=window)||void 0===t||null===(r=t.location)||void 0===r||!r.hash)return null;var n=window.location.hash.match(new RegExp("answers-".concat(e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"=([^&]+)")));return n?n[1].split(",").map(decodeURIComponent).map(e=>isNaN(e)?e:parseInt(e,10)):null},jr=e=>new Promise(t=>setTimeout(t,e)),wr=()=>jr(J.a),Cr=()=>jr(J.c),kr=l.d.div.withConfig({displayName:"MultipleChoice__Hidden",componentId:"jizsn7-0"})(["opacity:0;pointer-events:none;position:absolute;height:1px;overflow-y:scroll;"]),Er=k()(JSON.stringify,e=>{var{choices:t,t:r}=e;return t.map(e=>({label:r(e.label),ref:e.ref}))});class Sr extends a.PureComponent{render(){var{choices:e,allowOtherChoice:t,otherValue:r,vertical:n}=this.props;return c.a.createElement(c.a.Fragment,null,e.map(e=>c.a.createElement(dr.a,{tabIndex:-1,key:e.ref,keyHelperLetter:"MM"},c.a.createElement(V.a,{type:L.i.multipleChoiceLabel},e.label))),t&&n&&c.a.createElement(dr.a,{tabIndex:-1,title:r,keyHelperLetter:"MM"}))}}class Ir extends a.Component{constructor(e){super(e),w()(this,"otherChoiceElementRef",c.a.createRef()),w()(this,"otherChoiceInputRef",c.a.createRef()),w()(this,"hiddenListRef",c.a.createRef()),w()(this,"errorMessageRef",c.a.createRef()),w()(this,"letterShortcutBuffer",c.a.createRef()),w()(this,"letterShortcutTimeout",c.a.createRef()),w()(this,"getBlockNode",e=>this.blockNode=e),w()(this,"resetKeyboardHoveredIndex",()=>(this.setState({keyboardHoveredIndex:-1}),!0)),w()(this,"handleOtherChoiceChange",e=>{if(e.preventDefault(),e.stopPropagation(),Object(i.m)()&&!Object(ut.d)()){var{recenter:t}=this.props;t(ot,ot)}this.setState({otherValue:e.target.value})}),w()(this,"handleContentEntersViewport",()=>{this.setState({contentInViewport:!0})}),w()(this,"handleContentLeavesViewport",()=>{this.setState({contentInViewport:!1})}),w()(this,"handleKeyDown",e=>{var{keyboardShortcutType:t}=this.props;if(this.state.contentInViewport&&!Object(it.f)(e)){if((Object(it.h)(e)||Object(it.m)(e))&&e.stopPropagation(),"letter"===t&&fr(null==e?void 0:e.key))return null===this.letterShortcutBuffer.current?(this.letterShortcutBuffer.current=[e.key],e.persist&&e.persist(),this.letterShortcutTimeout.current=setTimeout(()=>this.handleLetterKeyboardShortcut(e),J.e)):this.letterShortcutBuffer.current=[...this.letterShortcutBuffer.current,e.key],e.preventDefault(),void e.stopPropagation();if(null!==this.letterShortcutTimeout.current&&(clearTimeout(this.letterShortcutTimeout.current),this.letterShortcutTimeout.current=null),"firstCharacter"===t&&fr(null==e?void 0:e.key))return this.handleFirstCharacterShortcut(e),e.preventDefault(),void e.stopPropagation();"custom"===t&&fr(null==e?void 0:e.key)&&(this.handleCustomCharacterShortcut(e),e.preventDefault(),e.stopPropagation())}}),w()(this,"handleOtherChoiceClick",(e,t)=>{var{editingOtherChoice:r}=this.state;r||(this.unstageOtherChoice(t),this.props.onInputFocus(),this.setState({editingOtherChoice:!0},()=>{this.otherChoiceInputRef.current&&this.otherChoiceInputRef.current.focus()}))}),w()(this,"handleOtherChoiceBlur",e=>{var t=this.otherChoiceElementRef.current;t.contains(null==e?void 0:e.relatedTarget)||t.contains(null==e?void 0:e.currentTarget)||this.setState({editingOtherChoice:!1},()=>{this.focusOtherChoice()})}),w()(this,"handleOtherChoiceCommit",e=>{this.stageOtherChoice(this.state.otherValue,e),this.props.onInputBlur(),this.setState({editingOtherChoice:!1},()=>{this.focusOtherChoice()})}),w()(this,"handleSelect",(e,t)=>{var{onStageAnswer:r,allowMultipleSelection:n,value:o}=this.props,i=o||[];if(e!==this.getOtherChoiceRef()){var a,c=i.includes(e);if(c||this.canSelectMoreChoices())a=n?c?i.filter(t=>t!==e):[...i,e]:c?[]:[e],r(this.props.blockRef,a,t),n||c||(t.persist&&t.persist(),setTimeout(()=>{this.handleCommitAnswer(t)},J.c))}else this.handleOtherChoiceClick(e,t)}),w()(this,"handleColumnsChanged",e=>{this.renderedColumns=e}),w()(this,"handleOtherChoiceKeyDown",e=>{e.stopPropagation(),Object(it.h)(e)&&this.handleOtherChoiceCommit(e),Object(it.i)(e)&&this.handleOtherChoiceBlur(e)}),w()(this,"handleCommitAnswer",e=>{this.props.onCommitAnswer(this.props.blockRef,e)}),this.state={keyboardHoveredIndex:-1,editingOtherChoice:!1,longestChoiceWidth:null,otherValue:this.getOtherValue(),contentInViewport:!1},this.renderedColumns=1,this.firstCharacterShortcuts=[],this.otherChoiceTimeout=null,this.commitAnswerTimeout=null}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.updateLongestChoiceWidth(),this.prefillAnswer(),this.fillOtherValueWithPartial()}UNSAFE_componentWillReceiveProps(e){var t=this.state.keyboardHoveredIndex>=0;this.props.isActive&&e.isActive||t&&this.resetKeyboardHoveredIndex()}shouldComponentUpdate(e,t){return Object(i.m)()&&e.isCommitted&&!this.props.isCommitted&&!e.isValid&&setTimeout(()=>{this.errorMessageRef.current.focus()},100),Ot(this.props,e)||this.state.longestChoiceWidth!==t.longestChoiceWidth||e.choices!==this.props.choices}componentDidUpdate(e){if(this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.props.isActive){this.prefillAnswer(),e.choices.length!==this.props.choices.length&&this.props.recenter(),this.updateLongestChoiceWidth()}else{var t=e.theme,r=this.props.theme;!t.isFontLoaded&&r.isFontLoaded&&this.updateLongestChoiceWidth()}}componentWillUnmount(){clearTimeout(this.otherChoiceTimeout),clearTimeout(this.commitAnswerTimeout),clearTimeout(this.letterShortcutTimeout)}getChoicesLength(){var{choices:e,allowOtherChoice:t}=this.props;return t?e.length+1:e.length}getOtherValue(){var{choices:e,value:t}=this.props;return t&&t.find(t=>!(t=>e.map(e=>e.ref).includes(t))(t))}getOtherChoiceRef(){return"".concat(this.props.blockRef,"-other")}getPositionRef(e){var t;return this.props.allowOtherChoice&&e===this.getChoicesLength()-1?this.getOtherChoiceRef():null===(t=this.props.choices[e])||void 0===t?void 0:t.ref}prefillAnswer(){var e=this;return Xt()((function*(){var{allowMultipleSelection:t,allowOtherChoice:r,blockRef:n,choices:o,hasBeenInteractedWith:i,isActive:a,onCommitAnswer:c,onStageAnswer:l,value:s,isFirstBlock:u}=e.props,d=gr(n),p=s&&s.some(Boolean);if(d){var b=o.map(e=>e.ref);r&&b.push(e.getOtherChoiceRef());var h=d.map(e=>["yes","no","other"].includes(e)?"".concat(n,"-").concat(e):e).filter(e=>b.includes(e)),m=h.length>0?h:null,f=h.includes(e.getOtherChoiceRef());a&&!p&&!i&&m&&(yield wr(),l(n,t?m:[m[0]]),!u||t||f||(yield Cr(),c(n)),f&&(e.otherChoiceTimeout=setTimeout(e.handleOtherChoiceClick,J.a)))}}))()}fillOtherValueWithPartial(){var{partialResponse:e,choices:t,allowOtherChoice:r}=this.props;if(e){var n=t.map(e=>e.ref),o=e.find(e=>!n.includes(e));if(o){var i=this.state.otherValue&&this.state.otherValue[0];r&&o!==i&&this.setState({otherValue:o})}}}updateLongestChoiceWidth(){if(this.hiddenListRef.current){var e=this.props.longestChoiceWidth||this.hiddenListRef.current.clientWidth;e!==this.state.longestChoiceWidth&&this.setState({longestChoiceWidth:e})}}createKeyShortcut(e,t,r){var{keyboardShortcutType:n}=this.props;if("letter"===n)return Or(e);if("firstCharacter"===n){var o=t.charAt(0).toUpperCase();return this.firstCharacterShortcuts.push(o),o}return"custom"===n?this.props.t(r):void 0}handleLetterKeyboardShortcut(e){var t=this.letterShortcutBuffer.current.length,r=this.letterShortcutBuffer.current.join("").toUpperCase(),n=r.charCodeAt(t-1)-65;2===t&&(n+=26*(r.charCodeAt(0)-65+1));var o=this.getPositionRef(n);this.handleKeyboardSelect(o,e),this.letterShortcutBuffer.current=null}handleFirstCharacterShortcut(e){var t=this.firstCharacterShortcuts.findIndex(t=>(null==e?void 0:e.key.toUpperCase())===t.toUpperCase()),r=this.getPositionRef(t);this.handleKeyboardSelect(r,e)}handleCustomCharacterShortcut(e){var{choices:t,t:r}=this.props,n=t.find(t=>{var{keyboardShortcut:n}=t;return r(n)===(null==e?void 0:e.key.toUpperCase())});this.handleKeyboardSelect(null==n?void 0:n.ref,e)}focusOtherChoice(){this.otherChoiceElementRef.current&&this.otherChoiceElementRef.current.focus()}removeStagedOtherChoice(e){return e.filter(e=>e!==this.getOtherValue())}unstageOtherChoice(e){var{onStageAnswer:t,value:r,allowMultipleSelection:n,blockRef:o}=this.props,i=r||[];t(o,n?this.removeStagedOtherChoice(i):[],e)}stageOtherChoice(e,t){var{onStageAnswer:r,value:n,allowMultipleSelection:o,blockRef:i}=this.props,a=n||[],c=(o?[...this.removeStagedOtherChoice(a),e]:[e]).filter(Boolean);r(i,c,t),c.length&&!o&&(t.persist&&t.persist(),this.commitAnswerTimeout=setTimeout(()=>{this.handleCommitAnswer(t)},J.c))}hoverNextRow(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex>=0?this.state.keyboardHoveredIndex+this.renderedColumns:0)}hoverPreviousRow(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex-this.renderedColumns)}hoverNextStep(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex+1)}hoverPreviousStep(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex-1)}changeKeyboardHoveredIndex(e){return e>=this.getChoicesLength()||(e<0||(this.setState({keyboardHoveredIndex:e}),this.props.scrollToChoice(this.getPositionRef(e)),!1))}handleKeyboardSelect(e,t){if(e){var r=this.props.value||[];if(e!==this.getOtherChoiceRef())this.handleSelect(e,t);else(r.includes(this.getOtherValue())||this.canSelectMoreChoices())&&this.handleOtherChoiceClick(e,t)}else this.handleCommitAnswer()}canSelectMoreChoices(){var{value:e,validations:t}=this.props,{maxSelection:r}=t;return!r||(e||[]).length<r}render(){var{allowMultipleSelection:e,allowOtherChoice:t,choices:r,validationError:n,isActive:o,isCommitted:a,isValid:l,layout:s,onInputBlur:u,showLabels:d,submitForm:p,supersized:b,t:h,textAlign:m,theme:f,title:y,uniqueId:v,validations:O,value:g,verticalAlignment:j,withImage:w,isMultipleChoiceABTestVariant:C}=this.props,{otherValue:k,editingOtherChoice:E}=this.state,{minSelection:S,maxSelection:I}=O,P=this.getChoicesLength(),T=g||[],_=o?this.state.keyboardHoveredIndex:null,x=!this.canSelectMoreChoices(),R=!j&&!this.props.longestChoiceWidth,A=this.props.longestChoiceWidth||this.state.longestChoiceWidth,B=a&&!l&&!E,M=w?pr.a:dr.a,H=!!this.getOtherValue(),z=Object(N.a)({isErrorMessageVisible:B,hasInputInstructions:Boolean(e&&o),uniqueId:v}),q={superSizedImage:b,choiceRef:this.getOtherChoiceRef(),color:f.colors.secondary,contextBackgroundColor:f.colors.background,tagName:"li"},K={onClick:this.handleOtherChoiceClick,dataQa:"other-choice",selected:H,imageSvg:mr.a,choiceRef:this.getOtherChoiceRef(),ref:this.otherChoiceElementRef,disabled:x&&!this.getOtherValue()},U=r.map(e=>e.ref);t&&U.push(this.getOtherChoiceRef());var W=e=>{var t,r;return null!==(t=e.attachment)&&void 0!==t&&null!==(r=t.properties)&&void 0!==r&&r.description?e.attachment.properties.description:d?"":h(e.label)},Y=w?L.i.pictureChoiceAndRatingLabel:L.i.multipleChoiceLabel;return c.a.createElement(rt,D()({},this.props,{titleFor:v,titleTag:"legend",titleText:y,onKeyDown:this.handleKeyDown}),r&&c.a.createElement(er.a,{onEnter:this.handleContentEntersViewport,onLeave:this.handleContentLeavesViewport},c.a.createElement(F.a,{top:L.p.topMultipleChoiceBlockContent,ref:this.getBlockNode},e&&o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(hr.a,{color:f.colors.secondary,id:Object(N.d)(v),maxSelection:I,minSelection:S,selectionCount:T.length})),R&&c.a.createElement(kr,{tabIndex:-1,ref:this.hiddenListRef},c.a.createElement(Sr,{choices:Er({choices:r,t:h}),allowOtherChoice:t,otherValue:k,vertical:j})),c.a.createElement(sr.b,{onSelectChange:this.handleSelect,options:U,multiSelectable:e},c.a.createElement(lr.a,{onChangeColumns:this.handleColumnsChanged,vertical:j,longestChoiceWidth:A,withImage:w,textAlign:m},r.map((e,t)=>c.a.createElement(sr.a,{ariaDescribedBy:z,key:e.ref,selected:T.includes(e.ref),index:t},(r,n)=>{var o;return c.a.createElement(M,D()({},r,q,{dataQa:"choice",dataQaIndex:t,choiceRef:e.ref,hovered:_===t,selected:n,disabled:x&&!T.includes(e.ref),onClick:this.handleSelect,keyHelperHint:h("label.hint.key"),keyHelperLetter:this.createKeyShortcut(t,e.label,e.keyboardShortcut),isCropped:e.isCropped,imageHref:null===(o=e.attachment)||void 0===o?void 0:o.href,imageAlt:W(e),label:d&&Object(Q.a)(h(e.label)),withKeyHelperHint:!Object(i.m)(),isMultipleChoiceABTestVariant:C}))})),t&&c.a.createElement(sr.a,{ariaDescribedBy:z,selected:H,index:r.length},(e,t)=>E?c.a.createElement(M,D()({},e,q,K,{tagName:"div",role:void 0,tabIndex:-1,selectable:!1,onBlur:this.handleOtherChoiceBlur,isMultipleChoiceABTestVariant:C}),c.a.createElement(ur.a,{value:k,dataQa:"other-choice-editor",dataQaInput:"other-choice-editor/input",dataQaButton:"other-choice-editor/button",ref:this.otherChoiceInputRef,color:f.colors.secondary,onBlur:u,onChange:this.handleOtherChoiceChange,onKeyDown:this.handleOtherChoiceKeyDown,onEditConfirm:this.handleOtherChoiceCommit,fontSizeType:Y})):c.a.createElement(M,D()({},e,q,K,{selected:t,keyHelperHint:h("label.hint.key"),keyHelperLetter:this.createKeyShortcut(P-1,k),isMultipleChoiceABTestVariant:C}),c.a.createElement(V.a,{type:Y},k||h("block.multipleChoice.other")))))),c.a.createElement(Ae,{blockError:n,blockRef:this.props.blockRef,errorMessageId:Object(N.c)(v),isErrorMessageVisible:B,layout:s,layoutItemsSize:this.props.layoutItemsSize,onClick:this.handleCommitAnswer,submitForm:p,errorMessageRef:this.errorMessageRef}))))}}Ir.defaultProps={keyboardShortcutType:"letter",onCommitAnswer:x.a,onInputBlur:x.a,onInputFocus:x.a,onStageAnswer:x.a,recenter:x.a,scrollToChoice:x.a,showLabels:!0,submitForm:x.a,t:e=>e,theme:{colors:{secondary:i.b,background:i.b}},updateGlobalEventListenerRef:x.a,validations:{},verticalAlignment:!0,withImage:!1};var Pr=vt(Ir);function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xr={sm:110,md:140,lg:150,xl:150},Rr=k()(JSON.stringify,e=>{var{choices:t,croppedChoiceRefs:r}=e;return t.map(e=>_r(_r({},e),{},{isCropped:!!r[e.ref]}))});class Dr extends a.Component{constructor(e){super(e),this.state={croppedChoiceRefs:{}}}componentDidMount(){this.updateCroppedChoiceRefs(this.props.supersized,this.props.choices,this.state.croppedChoiceRefs)}componentDidUpdate(){this.updateCroppedChoiceRefs(this.props.supersized,this.props.choices,this.state.croppedChoiceRefs)}updateCroppedChoiceRefs(e,t,r){var n=this;return Xt()((function*(){if(e){var o={};if(!n.updatingCroopedChoicesRefs){for(var i in n.updatingCroopedChoicesRefs=!0,t){var a=t[i],c=a.attachment&&a.attachment.resource,l=c&&c.src;if(l&&null==r[a.ref])try{var s=yield Object(rr.a)(l);o[a.ref]=s}catch(e){}}Object.keys(o).length&&n.setState({croppedChoiceRefs:_r(_r({},r),o)}),n.updatingCroopedChoicesRefs=!1}}}))()}render(){var{breakpoint:e,supersized:t,choices:r}=this.props,n=xr[e]*(t?1.5:1),o=t?Rr({choices:r,croppedChoiceRefs:this.state.croppedChoiceRefs}):r;return c.a.createElement(Pr,D()({},this.props,{choices:o,verticalAlignment:!1,longestChoiceWidth:Math.round(n),withImage:!0}))}}u.a.defaultProps={choices:[]};var Ar=Object(y.withBreakpoint)(Dr),Br=r(387),Fr=r(98),Nr=r(255),Mr=r(256),Vr=r(73);function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zr=l.d.div.withConfig({displayName:"MobileDropdown__ContentWrapper",componentId:"sc-1nkg1xj-0"})(["display:flex;flex:1;height:100%;width:100%;align-items:center;padding:8px 0 8px 8px;"]),qr=l.d.div.withConfig({displayName:"MobileDropdown__SelectWrapper",componentId:"sc-1nkg1xj-1"})(["position:relative;"]),Kr=Object(l.d)(Fr.b).attrs({svg:Nr.a}).withConfig({displayName:"MobileDropdown__DropdownIcon",componentId:"sc-1nkg1xj-2"})(["position:absolute;right:5px;top:14px;user-select:none;"]),Ur=l.d.button.withConfig({displayName:"MobileDropdown__MobileTrigger",componentId:"sc-1nkg1xj-3"})(["appearance:none;display:block;width:100%;font-family:inherit;padding-left:0px;padding-right:26px;padding-bottom:8px;border-radius:0;border:none;transition:0.2s;text-align:left;background-color:transparent;box-shadow:0 1px ",";&:-moz-focusring{color:transparent;text-shadow:0 0 0 transparent;}outline:none;&:focus{outline:none;}"],e=>Object(i.z)(e.color));class Wr extends a.Component{constructor(e){super(e),w()(this,"getFilteredOptions",()=>this.memoizedFilterOptions(this.props.choices,this.state.filter).map(e=>Hr(Hr({},e),{},{label:Object(Mr.b)(e.label,this.state.filter),value:e.label,key:e.key}))),w()(this,"toggleDropdown",e=>{e!==this.state.showList&&this.setState({showList:e})}),w()(this,"handleCommit",e=>{e.persist(),this.props.onCommitAnswer(this.props.blockRef,e)}),w()(this,"handleInputChange",e=>{this.setState({filter:e||""})}),w()(this,"handleKeyDown",e=>{e.stopPropagation()}),w()(this,"handleTriggerClick",()=>{this.setState({showList:!0})}),w()(this,"handleSelectClose",()=>{this.setState({showList:!1}),this.dialogTriggerRef.current.focus()}),w()(this,"handleOptionSelected",(e,t)=>{if(e&&e.value){var r=this.props.choices.findIndex(t=>t.label===e.value);if(this.state.forceSelectedIndex===r)return this.setState({forceSelectedIndex:-1}),void this.props.onStageAnswer(this.props.blockRef,null,t);var n=e.value;e.ref&&(n={id:e.id,label:e.value,ref:e.ref,value:e.value}),this.setState({forceSelectedIndex:r}),this.props.onStageAnswer(this.props.blockRef,[n],t),t.persist(),setTimeout(()=>{this.setState({showList:!1}),setTimeout(()=>{this.props.onCommitAnswer(this.props.blockRef,t),this.setState({filter:""})},400)},800)}}),this.state={forceSelectedIndex:-1,showList:!1,filter:""},this.memoizedFilterOptions=k()((e,t)=>t,(e,t)=>Object(Mr.a)(e.map(e=>Hr(Hr({},e),{},{key:e.ref||e.label})),t)),this.dialogTriggerRef=c.a.createRef()}UNSAFE_componentWillReceiveProps(e){var{isActive:t,shouldClearInput:r}=e;!t&&this.state.showList&&this.toggleDropdown(!1),r&&this.setState({filter:""})}render(){var{uniqueId:e,blockRef:t,validationError:r,isCommitted:n,isValid:o,layout:i,layoutItemsSize:a,placeholder:l,partialResponse:s,submitForm:u,theme:d,t:p,value:b}=this.props,h="",m=b;if(b&&b.length||!s||(m=s.map(e=>e.ref||e.value||e)),m&&m.length){var f,y=this.props.choices.find(e=>e.ref===m[0]||e.label===m[0]);h=null!==(f=null==y?void 0:y.label)&&void 0!==f?f:null}var v=e=>e.value===h,O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.a.createElement(F.b,{bottom:.5,key:e.key,left:1,right:1},c.a.createElement(dr.a,{ariaTitle:e.value,color:d.colors.secondary,selected:r},c.a.createElement(zr,null,c.a.createElement(V.a,{color:d.colors.secondary,ellipsis:t,inline:!0,type:L.i.multipleChoiceLabel},e.label))))},g=this.getFilteredOptions(),j=!0===this.state.showList,w=n&&!o&&!j,C=Object(N.a)({uniqueId:e,isErrorMessageVisible:w});return c.a.createElement(rt,D()({},this.props,{titleFor:this.props.uniqueId,titleLabelId:"".concat(this.props.uniqueId,"-label"),titleText:this.props.title,titleTag:"label"}),c.a.createElement(qr,{onKeyDown:this.handleKeyDown},c.a.createElement(Ur,{"aria-controls":e,"aria-expanded":j,ref:this.dialogTriggerRef,color:d.colors.secondary,onClick:this.handleTriggerClick},c.a.createElement($.a,{size:"size2",color:d.colors.secondary},h||p("block.dropdown.placeholderTouch")),c.a.createElement(Kr,{"aria-hidden":!0,color:d.colors.secondary})),c.a.createElement(Br.a,{ariaDescribedBy:C,id:e,backgroundColor:d.colors.background,color:d.colors.secondary,className:Object(Vr.a)(d.font),filterTextPlaceholder:p(l),filterText:this.state.filter,noResultsMessage:p("block.dropdown.hint"),onFilterChange:this.handleInputChange,optionRender:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e,t,v(e))},optionHeight:52,options:g,isVisible:j,keyProp:"key",onClose:this.handleSelectClose,onSelect:this.handleOptionSelected,language:null,dataQa:"options-fullscreen-select",disableAnimations:Ue.a})),c.a.createElement(Ae,{blockRef:t,blockError:r,errorMessageId:Object(N.c)(e),isErrorMessageVisible:w,layout:i,layoutItemsSize:a,onClick:this.handleCommit,submitForm:u}))}}Wr.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,recenter:x.a,submitForm:x.a,t:e=>e,theme:{colors:{secondary:i.b,background:i.b}}};var Yr=Object(y.withBreakpoint)(Wr),Gr=r(429),Qr=r.n(Gr),Jr=r(110),Zr=Ue.a?0:400,$r=new at.b;class Xr extends a.Component{constructor(e){super(e),w()(this,"blockWrapperRef",c.a.createRef()),w()(this,"getFilteredOptions",()=>this.memoizedFilterOptions(this.props.choices,this.state.filter)),w()(this,"getListHeight",()=>{if(!Object(Jr.a)())return 0;var{boundingClientRect:e={}}=this.props.layoutItemsSize;return(e.height||window.innerHeight)/2-8-8}),w()(this,"handleWaypointEnter",()=>{this.setState({isContentInViewport:!0})}),w()(this,"handleWaypointLeave",()=>{this.setState({isContentInViewport:!1})}),w()(this,"stage",(e,t)=>{this.props.onStageAnswer(this.props.blockRef,[e],t)}),w()(this,"unstage",()=>{this.setState({forceSelectedIndex:-1}),this.props.onStageAnswer(this.props.blockRef,null)}),w()(this,"handleAnswer",(e,t)=>{var r=this.props.choices[e]||{},n=r.label||"";r.ref&&(n={id:r.id,label:r.label,ref:r.ref,value:r.label}),this.setState({forceSelectedIndex:e,forceHoverIndex:-1}),n&&(setTimeout(()=>{this.toggleDropdown(!1),this.stage(n,t),this.setState({filter:r.label||""})},Zr),t.persist(),setTimeout(()=>{this.props.onCommitAnswer(this.props.blockRef,t)},J.c))}),w()(this,"handleCommit",e=>{e.persist(),this.props.onCommitAnswer(this.props.blockRef,e)}),w()(this,"handleInputBlur",e=>{var t;null!==(t=this.blockWrapperRef.current)&&void 0!==t&&t.contains(e.relatedTarget)||this.toggleDropdown(!1)}),w()(this,"handleInputClick",()=>{this.toggleDropdown(!0,0)}),w()(this,"toggleDropdown",e=>{e!==this.state.showList&&(e&&setTimeout(()=>this.props.recenter(ot),200),this.setState({showList:e,forceHoverIndex:-1}))}),w()(this,"handleIconClick",()=>{this.toggleDropdown(!this.state.showList)}),w()(this,"handleKeyDown",e=>{if(this.state.isContentInViewport){var t,r,n,o=this.getFilteredOptions().length;if(Object(it.b)(e))return o>0&&(this.state.showList?this.setState({forceHoverIndex:Math.min(o-1,this.state.forceHoverIndex+1)}):this.toggleDropdown(!0)),It(e);if(Object(it.d)(e)&&this.state.showList)return this.setState({forceHoverIndex:Math.max(0,this.state.forceHoverIndex-1)}),It(e);if(Object(it.i)(e))return this.toggleDropdown(!1),It(e);if(Object(it.h)(e)&&!Object(it.f)(e)){if(this.state.showList&&o>0&&-1!==this.state.forceHoverIndex){var i=(t=this.state.forceHoverIndex,r=this.memoizedFilterOptions(this.props.choices,this.state.filter),(n=r.find((e,r)=>r===t))?n.index:null);this.handleAnswer(i,e)}else this.props.onCommitAnswer(this.props.blockRef,e);It(e)}}}),w()(this,"handleInputChange",e=>{this.unstage();var t=this.memoizedFilterOptions(this.props.choices,e||""),r=null!=e&&t.length>0;this.toggleDropdown(r),this.setState({filter:e||"",forceHoverIndex:-1})}),this.memoizedFilterOptions=k()((e,t)=>t,Mr.a);var{choices:t,value:r,partialResponse:n}=this.props,o="",i=r;if(r&&r.length||!n||(i=n.map(e=>e.ref||e.value||e)),i&&i.length){var a,l=t.find(e=>e.ref===i[0]||e.label===i[0]);o=null!==(a=null==l?void 0:l.label)&&void 0!==a?a:null}this.state={forceHoverIndex:-1,forceSelectedIndex:-1,isContentInViewport:!1,showList:!1,filter:o}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}UNSAFE_componentWillReceiveProps(e){var{isActive:t,shouldClearInput:r}=e;!t&&this.state.showList&&this.toggleDropdown(!1),r&&this.setState({filter:""})}render(){var{blockRef:e,choices:t,validationError:r,isCommitted:n,isValid:o,labelledBy:i,layout:a,layoutItemsSize:l,placeholder:s,theme:u,t:d,hasDescription:p,uniqueId:b,submitForm:h}=this.props,m=0===this.getFilteredOptions().length,f=!0===this.state.showList,y=(m||!!n&&!o)&&!f,v=m?$r:r,O=Object(N.a)({uniqueId:b,isErrorMessageVisible:y,hasDescription:p});return c.a.createElement(rt,D()({},this.props,{titleFor:this.props.uniqueId,titleLabelId:"".concat(this.props.uniqueId,"-label"),titleText:this.props.title,titleTag:"label",onKeyDown:this.handleKeyDown,ref:this.blockWrapperRef}),c.a.createElement(er.a,{onEnter:this.handleWaypointEnter,onLeave:this.handleWaypointLeave},c.a.createElement("div",null,c.a.createElement(Qr.a,{ariaDescribedBy:O,id:b,placeholder:d(s),options:t,color:u.colors.secondary,contextBackgroundColor:u.colors.background,filterValue:this.state.filter,hoveredIndex:this.state.forceHoverIndex,labelId:i,selectedIndex:this.state.forceSelectedIndex,onFilterChange:this.handleInputChange,onInputClick:this.handleInputClick,onArrowClick:this.handleIconClick,onOptionClick:this.handleAnswer,onInputBlur:this.handleInputBlur,optionsMaxHeight:"".concat(f?this.getListHeight():0,"px"),optionsOpen:f}))),c.a.createElement(Ae,{blockRef:e,hideButton:f,errorMessageId:Object(N.c)(b),blockError:v,isErrorMessageVisible:y,layout:a,layoutItemsSize:l,onClick:this.handleCommit,submitForm:h}))}}Xr.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,recenter:x.a,submitForm:x.a,t:e=>e,theme:{colors:{secondary:i.b,background:i.b}},updateGlobalEventListenerRef:x.a};var en=vt(Object(y.withBreakpoint)(Xr));class tn extends a.Component{shouldComponentUpdate(e){return Ot(this.props,e)}render(){var{isTouch:e}=this.props;return e?c.a.createElement(Yr,this.props):c.a.createElement(en,this.props)}}tn.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,recenter:x.a,t:e=>e,theme:{colors:{secondary:i.b,background:i.b}}};var rn=Object(se.withIsTouch)(tn),nn=l.d.div.withConfig({displayName:"Group__ButtonWrapper",componentId:"sc-14mp1zx-0"})(["",";width:100%;outline:none;&:focus{outline:none;}"],e=>e.isActive?"":"pointer-events: none;");nn.displayName="ButtonWrapper";var on=e=>{var{blockRef:t,buttonText:r,children:n,description:o,isActive:i,layout:l,layoutItemsSize:s,submitForm:u,t:d=(e=>e),title:p,uniqueId:b}=e,h=Object(a.useRef)(),[m,f]=Object(a.useState)(!1),y=Object(a.useCallback)(e=>{m||e.stopPropagation()},[m]);ft(i,y);var v="".concat(b,"-title"),O="\n    ".concat(v," ").concat(o?Object(N.b)(b):"","\n  ");return c.a.createElement(rt,D()({},e,{titleLabelId:v,titleText:p,onKeyDown:y}),c.a.createElement(er.a,{onEnter:()=>f(!0),onLeave:()=>f(!1)},n),c.a.createElement(nn,{ref:h,isActive:i},c.a.createElement(Ae,{ariaDescribedBy:O,blockRef:t,buttonText:d(r),layout:l,layoutItemsSize:s,onClick:r=>{i&&e.onCommitAnswer(t,r)},isAnimated:!1,isVisible:i,hideIcon:!0,submitForm:u})))},an=Object(a.memo)(on,gt),cn=e=>c.a.createElement(an,D()({},e,{titleCounterIcon:e.hideMarks?null:"quote"})),ln=e=>{var t={true:"".concat(e.blockRef,"-yes"),false:"".concat(e.blockRef,"-no")},r=[{ref:t[!0],value:!0,label:"label.yes.default",keyboardShortcut:"label.yes.shortcut"},{ref:t[!1],value:!1,label:"label.no.default",keyboardShortcut:"label.no.shortcut"}],n=Array.isArray(e.value)?e.value[0]:e.value;return c.a.createElement(Pr,D()({choices:r},e,{value:[t[n]],onStageAnswer:(t,n,o)=>{var[i]=n,a=r.find(e=>e.ref===i),c=[{value:a&&a.value,label:a&&e.t(a.label)}];e.onStageAnswer(e.blockRef,a?c:[],o)},keyboardShortcutType:"custom",verticalAlignment:!0}))};ln.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,t:e=>e,theme:{colors:{secondary:i.b,background:i.b}}};var sn=ln,un=e=>{var t={true:"".concat(e.blockRef,"-accept"),false:"".concat(e.blockRef,"-reject")},r=[{ref:t[!0],value:!0,label:"block.legal.accept"},{ref:t[!1],value:!1,label:"block.legal.reject"}],n=Array.isArray(e.value)?e.value[0]:e.value;return c.a.createElement(Pr,D()({choices:r},e,{value:[t[n]],onStageAnswer:(t,n,o)=>{var[i]=n,a=r.find(e=>e.ref===i),c=[{value:a&&a.value,label:a&&e.t(a.label)}];e.onStageAnswer(e.blockRef,a?c:[],o)},keyboardShortcutType:"letter",verticalAlignment:!0}))};un.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,t:e=>e,theme:{colors:{secondary:"#FF00FF",background:"#FFFFFF"}}};var dn=un,pn=e=>{var{autoComplete:t,blockRef:r,hasDescription:n,inlineSubmit:o,inputType:l,isActive:s,isCommitted:u,isValid:d,layout:p,layoutItemsSize:b,maxLength:h,onCommitAnswer:m,onInputBlur:f,onInputFocus:y,onStageAnswer:v,placeholder:O,recenter:g,setBlockTrackingData:j,t:w,theme:C,title:k,type:E,uniqueId:S,validationError:I,submitForm:P}=e,[_,x,R]=dt(J.i),[A,B,F]=dt(J.b),[M,V]=Object(a.useState)(null),L=Object(a.useRef)(null),H=Object(a.useRef)(null),z=L===document.activeElement;Object(a.useEffect)(()=>()=>{R(),F()},[]);var q=Object(a.useCallback)(e=>{lt(E,e);var t=e.nativeEvent||e;Object(it.h)(t)&&!Object(it.f)(t)?(Object(i.m)()&&L&&L.current&&L.current.blur(),e.persist&&e.persist(),setTimeout(()=>{s&&m(r,t)},(Object(i.m)(),0))):H.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type},Object(it.e)(t)&&(e.stopPropagation(),e.persist&&e.persist(),o(r,t))},[r,s,o,m]);ft(s,q);var K=e.value.length>0?e.value[0]:"",U=u&&!d||A,W=Object(N.a)({uniqueId:S,isErrorMessageVisible:U,hasDescription:n});return c.a.createElement(rt,D()({},e,{isShaking:_,titleFor:S,titleTag:"label",titleText:k}),c.a.createElement(kt.a,{autoComplete:t,getRef:L,placeholder:w(O),onKeyDown:q,onKeyPress:e=>{var{blocked:t,error:r}=ct(E,h,e);x(t),B(t),V(r)},onChange:t=>{if(s){var n=e.value[0]||"";Pt(H.current,t,n)&&j(r,T.a,T.b.BROWSER_AUTO_COMPLETE);var o=t.target.value;v(r,o.slice(0,h),t)}},onPaste:e=>{H.current={timestamp:(new Date).getTime(),type:e.type};var{blocked:t,error:r}=st(h,e);x(t),B(t),V(r)},onFocus:function(){Object(i.m)()&&(y(),Object(ut.d)()||setTimeout(()=>{g(ot)},0))},onBlur:f,maxLength:h,name:l,inputId:S,value:K,color:C.colors.secondary,type:l,"aria-describedby":W}),c.a.createElement(Ae,{blockRef:r,errorMessageId:Object(N.c)(S),blockError:A?M:I,isErrorMessageVisible:U,layout:p,layoutItemsSize:b,onClick:function(e){var t=z&&Object(i.m)();L&&L.current&&t&&L.current.blur(),e.persist(),e.stopPropagation(),setTimeout(()=>{s&&m(r,e)},0)},onFocusLost:function(){L&&L.current&&L.current.focus()},submitForm:P}))};pn.defaultProps={inlineSubmit:x.a,onCommitAnswer:x.a,onStageAnswer:x.a,setBlockTrackingData:x.a,submitForm:x.a,t:x.a,theme:{colors:{secondary:i.b}},value:[],autoComplete:void 0};var bn=Object(a.memo)(pn,gt);bn.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a};var hn=e=>c.a.createElement(bn,D()({},e,{inputType:"email",maxLength:256,onCommitAnswer:function(t,r){e.value&&Array.isArray(e.value)&&e.value[0]&&e.onStageAnswer(t,e.value[0].trim(),r),e.onCommitAnswer(t,r)},autoComplete:"email"})),mn=/\D+/g,fn=e=>c.a.createElement(bn,D()({},e,{onStageAnswer:(t,r,n)=>{r=parseInt(String(r).replace(mn,""),10),e.onStageAnswer(e.blockRef,r,n)},maxLength:15,inputType:"tel"})),yn=r(446),vn=r(115),On=r(137),gn=r.n(On),jn=r(521),wn=r(447),Cn=r(250),kn=r(18),En=Object(l.d)(Fr.b).withConfig({displayName:"icon__StrokeIcon",componentId:"pde181-0"})(["margin-right:8px;svg{transform:scale(1);box-shadow:0 0 0 1px ",";border-radius:4px;box-sizing:content-box;background-color:#fff;}"],e=>Object(i.l)(e.color)?Object(i.y)("#000"):Object(i.y)("#FFF"));function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pn=l.d.div.withConfig({displayName:"select__MobileWrapper",componentId:"sc-1xepqbq-0"})(["position:absolute;z-index:",";",";"],L.v.level5,e=>e.isVisible?"":"pointer-events: none"),Tn=l.d.div.withConfig({displayName:"select__DesktopWrapper",componentId:"sc-1xepqbq-1"})(["position:absolute;top:-16px;width:450px;height:300px;overflow:hidden;z-index:",";",";"],L.v.level5,e=>e.isVisible?"":"pointer-events: none");Tn.displayName="DesktopWrapper";var _n=l.d.div.withConfig({displayName:"select__ContentWrapper",componentId:"sc-1xepqbq-2"})(["width:100%;display:flex;height:100%;align-items:center;padding:",";"],e=>e.hasVerticalPadding?"8px":"0 8px"),xn=l.d.div.withConfig({displayName:"select__ContentText",componentId:"sc-1xepqbq-3"})(["display:flex;height:100%;flex:1;justify-content:space-between;align-items:center;"]),Rn=Object(l.d)(p.a).withConfig({displayName:"select__StyledAnimate",componentId:"sc-1xepqbq-4"})(["position:relative;"]),Dn=k()(e=>e,(e,t)=>Object(Mr.a)(t,e,"name").map((t,r)=>In(In({},t),{},{index:r,name:Object(Mr.b)(t.name,e),originalName:t.name}))),An=e=>{var{backgroundColor:t,blockRef:r,color:n,hoveredCode:o,id:i,hasVerticalPadding:a,selectedCode:l,sideMargin:s}=e;return function(e){var{code:u,index:d,name:p,originalName:b,prefix:h,svg:m}=e,f=u===l,y=u===o;return c.a.createElement(F.b,{bottom:.5,left:s,right:s},c.a.createElement(Cn.a,{color:n,hovered:y,id:"".concat(i,"-").concat(d),role:"option",selectable:!0,selected:f},c.a.createElement(_n,{hasVerticalPadding:a},c.a.createElement(En,{"aria-hidden":!0,color:t,svg:c.a.createElement(Fr.a,{svgCode:m(r)})}),c.a.createElement(xn,null,c.a.createElement(V.a,{"aria-hidden":!0,color:n,inline:!0,type:L.i.multipleChoiceLabel},p),c.a.createElement(ee.a,null,b),c.a.createElement(V.a,{color:n,inline:!0,type:L.i.multipleChoiceLabel},"+".concat(h))))))}};class Bn extends a.PureComponent{constructor(e){super(e),w()(this,"handleKeyDown",e=>{var{data:t,filterText:r}=this.props,{hoveredIndex:n}=this.state,o=Dn(r,t),i=o.length;switch(e.key){case kn.a.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),this.setState({hoveredIndex:Math.min(i-1,n+1)});break;case kn.a.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.setState({hoveredIndex:Math.max(0,n-1)});break;case kn.a.TAB:case kn.a.ESCAPE:e.preventDefault(),e.stopPropagation(),this.props.onClose();break;case kn.a.ENTER:e.preventDefault(),e.stopPropagation(),-1===n?i>0&&""!==r?this.handleSelection(o[0],e):this.props.onClose():i>0&&this.handleSelection(o[n],e)}}),w()(this,"handleFilterChange",e=>{this.resetHoveredIndex(),this.props.onFilterChange(e)}),w()(this,"handleSelection",(e,t)=>{this.props.onSelect(e,t),this.onCloseTimeout=setTimeout(()=>{this.props.onClose()},1e3)}),this.state={hoveredIndex:-1},this.onCloseTimeout=null}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.resetHoveredIndex()}componentWillUnmount(){clearTimeout(this.onCloseTimeout)}resetHoveredIndex(){this.setState({hoveredIndex:-1})}render(){var{id:e,backgroundColor:t,blockRef:r,color:n,data:o,filterText:i,fontFamily:a,innerRef:l,isOpen:s,isTouch:u,language:d,onClose:p,onFilterChange:b,t:h,value:m}=this.props,f=h("block.countryDropdown.searchCountries"),y=h("block.countryDropdown.hint"),v=Dn(i,o),{hoveredIndex:O}=this.state,g=v.length&&v[O]?v[O].code:"",j=-1!==O?"".concat(e,"-").concat(O):null;return u?c.a.createElement(Pn,{"aria-hidden":!s,isVisible:s,ref:l},c.a.createElement(Br.a,{id:e,backgroundColor:t,color:n,filterTextPlaceholder:f,filterText:i,focusedOptionId:j,noResultsMessage:y,onFilterChange:b,optionRender:An({backgroundColor:t,blockRef:r,color:n,hasVerticalPadding:!0,id:e,selectedCode:m,sideMargin:1}),optionHeight:52,options:v,isVisible:s,keyProp:"code",onClose:p,onSelect:this.handleSelection,language:d,className:Object(Vr.a)(a),dataQa:"country-fullscreen-select",disableAnimations:Ue.a})):c.a.createElement(Rn,{isVisible:s,type:"slideUp"},c.a.createElement(Tn,{"aria-hidden":!s,ref:l,isVisible:s,onKeyDown:this.handleKeyDown},c.a.createElement(wn.a,{id:e,backgroundColor:t,color:n,dataQa:"country-dropdown-select",filterText:i,filterTextPlaceholder:f,focusedOptionId:j,hoveredIndex:O,isVisible:s,keyProp:"code",language:d,noResultsMessage:y,onFilterChange:this.handleFilterChange,optionRender:An({backgroundColor:t,blockRef:r,color:n,hoveredCode:g,id:e,hasVerticalPadding:!1,selectedCode:m,sideMargin:2}),optionHeight:44,options:v,onClose:p,onSelect:this.handleSelection})))}}Bn.defaultProps={backgroundColor:i.b,color:i.b,data:[],filterText:"",fontFamily:L.h,onClose:x.a,onFilterChange:x.a,onSelect:x.a,t:x.a};var Fn=Object(_.a)(Object(se.withIsTouch)(Bn));function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vn=(e,t,r)=>gn()((e,t)=>e.name.localeCompare(t.name),e.map(e=>Mn(Mn({},e),{},{name:r(e.code,t)}))),Ln=Object(_.a)(e=>{var{id:t,innerRef:n,backgroundColor:o,blockRef:i,color:l,fontFamily:s,isOpen:u,language:d,onChange:p,onClose:b,onOpen:h,onTriggerIconButtonBlur:m,onTriggerIconButtonFocus:f,t:y,value:v}=e,[O,g]=Object(a.useState)(""),[j,w]=Object(a.useState)([]),[C,k]=Object(a.useState)(!1),E=Object(a.useRef)(e=>e),S=Object(a.useRef)(),I=Object(se.useIsTouch)(),P=Object(a.useCallback)(e=>{((e,t)=>{var r=t;do{if(r===e)return!0;r=r.parentElement}while(null!==r);return!1})(S.current,e.target)||!I&&C&&b()},[b,C]);Object(a.useEffect)(()=>{Promise.all([r.e(7),r.e(1)]).then(r.bind(null,533)).then(e=>{E.current=e.countryNameTranslator,w(Vn(e.countryData,d,E.current))}).catch(e=>{(void 0).props.onUnrecoverableError(e)})},[]),Object(a.useEffect)(()=>(window.addEventListener("click",P),()=>window.removeEventListener("click",P)),[P]),Object(a.useEffect)(()=>{if(u){var e=setTimeout(()=>{k(!0)},200);return()=>clearTimeout(e)}k(!1),g("")},[u]),Object(a.useEffect)(()=>{w(Vn(j,d,E.current))},[d]);var T=Object(N.a)({uniqueId:t,hasInputInstructions:u}),_=j.find(e=>e.code===v);return _?c.a.createElement(a.Fragment,null,c.a.createElement(Fn,{id:t,autoComplete:"tel-national",blockRef:i,data:j,filterText:O,isOpen:u,onClose:b,color:l,language:d,backgroundColor:o,innerRef:S,onFilterChange:e=>{g(e)},onSelect:(e,t)=>p(e.code,t),value:_.code,fontFamily:s}),c.a.createElement(jn.a,{ariaLabel:"".concat(y("aria.phone-number.country-button-label"),": ").concat(_.name),ariaControls:t,isExpanded:u,ariaDescribedBy:T,backgroundColor:o,color:l,dataQa:"trigger-button",iconSvg:c.a.createElement(Fr.a,{svgCode:_.svg("".concat(i,"-selected"))}),isVisible:!u,onBlur:m,onClick:h,onFocus:f,onKeyDown:e=>{Object(it.h)(e.nativeEvent)&&!Object(it.e)(e)&&(e.stopPropagation(),h()),Object(it.n)(e)&&!Object(it.l)(e)&&e.stopPropagation()},ref:n})):null}),Hn=r(316),zn=/^[A-Za-z]+$/,qn=/[^0-9a-zA-Z]+/gi,Kn=l.d.div.withConfig({displayName:"PhoneNumber__Root",componentId:"ver6na-0"})(["display:flex;align-items:flex-end;max-width:450px;",";"],e=>e.textAlign===v.e.CENTER?"margin:auto":""),Un=l.d.div.withConfig({displayName:"PhoneNumber__DropdownWrapper",componentId:"ver6na-1"})(["margin-right:16px;position:relative;z-index:",";"],L.v.level1);class Wn extends a.Component{constructor(e){var t;super(e),t=this,w()(this,"getInputRef",e=>this.textInput=e),w()(this,"getButtonRef",e=>this.buttonRef=e),w()(this,"getValue",e=>e.value&&e.value.length>0?e.value[0]:{}),w()(this,"getNumber",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props;return t.getValue(e).number||""})),w()(this,"getCountryCode",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props;return t.getValue(e).countryCode||e.defaultCountryCode.toUpperCase()})),w()(this,"getPlaceholder",e=>{if(!this.state.getExampleNumber)return"";var t=this.state.getExampleNumber(e,yn);if("AR"===e){var r=t.countryCallingCode;return t.formatInternational().replace("+".concat(r," 9 "),"")}return t.formatNational()}),w()(this,"handleKeyPress",e=>{if(Object(it.h)(e.nativeEvent))this.unblock();else{if(e.key.match(zn))return e.preventDefault(),void this.block(new at.f);if(Object(Hn.c)(this.getCountryCode(),e.target.value).replace(qn,"").length>15)return e.preventDefault(),void this.block(new at.a(vn.a.maxLength,this.props.validations));this.unblock()}}),w()(this,"handlePaste",e=>{this.lastInputEventRef.current={timestamp:(new Date).getTime(),type:e.type}}),w()(this,"handleKeyDown",e=>{this.lastInputEventRef.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type};var t=e.nativeEvent||e;Object(it.h)(t)&&!Object(it.f)(t)&&(Object(i.m)()&&this.textInput&&this.textInput.blur(),e.stopPropagation(),e.persist&&e.persist(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},Object(i.m)()?700:0))}),w()(this,"handleValueChange",(e,t,r)=>{var n=e;try{n=this.parsePhoneNumber(e,t).formatInternational()}catch(e){}this.props.isActive&&this.props.onStageAnswer(this.props.blockRef,{number:e,countryCode:t,label:n},r)}),w()(this,"handleNumberChange",e=>{var{blockRef:t,setBlockTrackingData:r}=this.props,n=this.lastInputEventRef.current,o=this.getValue(this.props).number||"";Pt(n,e,o)&&r(t,T.a,T.b.BROWSER_AUTO_COMPLETE);var i=e.target.value,a=this.getNumber(),c=this.getCountryCode(),l=this.guessCountryBasedOnNumber(i)||c,s=l!==c;this.AsYouType&&s&&this.createCountryFormatter(l),this.parseDigits(i)!==this.parseDigits(a)&&(i=this.formatPhoneNumber(i)),this.handleValueChange(i,l,e)}),w()(this,"handleCountryChange",(e,t)=>{if(e!==this.getCountryCode()){this.AsYouType&&this.createCountryFormatter(e);var r=this.formatPhoneNumber(this.getNumber());this.handleValueChange(r,e,t)}}),w()(this,"handleDropdownOpen",()=>{this.props.recenter(ot),this.setState({isOpen:!0})}),w()(this,"handleDropdownClose",()=>{this.setState({isOpen:!1}),this.buttonRef&&this.buttonRef.focus()}),w()(this,"handleOnScroll",()=>{clearTimeout(this.timeoutInputFocus),this.timeoutInputFocus=setTimeout(()=>{this.updateInputFocus(this.textInput,this.props.isActive,!0)},200)}),w()(this,"handleTriggerIconButtonBlur",()=>{this.setState({isCountryDropdownBtnFocused:!1})}),w()(this,"handleTriggerIconButtonFocus",()=>{this.setState({isCountryDropdownBtnFocused:!0})}),w()(this,"handleCommit",e=>{var t=this.isInputFocused()&&Object(i.m)();this.textInput&&t&&this.textInput.blur(),e.persist&&e.persist(),e.stopPropagation(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},t?700:0)}),this.lastInputEventRef=c.a.createRef(),this.state={isOpen:!1,isShaking:!1,isInputBlocked:!1,blockedError:null,getExampleNumber:null,isCountryDropdownBtnFocused:!1}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),Promise.all([r.e(7),r.e(1)]).then(r.bind(null,510)).then(e=>{var{AsYouType:t,parseDigits:r,parsePhoneNumber:n,getExampleNumber:o}=e;this.AsYouType=t,this.formatter=new t(this.getCountryCode()),this.parseDigits=r,this.parsePhoneNumber=n,this.setState({getExampleNumber:o})}).catch(e=>{this.props.onUnrecoverableError(e)})}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown);var t=this.getCountryCode(e),r=this.getCountryCode();this.AsYouType&&t!==r&&this.createCountryFormatter(r);var{isActive:n,isBlockChanging:o}=this.props;n&&!o&&e.isBlockChanging&&this.updateInputFocus(this.textInput,n,!1),e.isActive&&!n&&this.textInput.blur()}componentWillUnmount(){clearTimeout(this.shakeStopTimeout),clearTimeout(this.blockedErrorMessageStopTimeout),clearTimeout(this.timeoutInputFocus)}createCountryFormatter(e){this.formatter=new this.AsYouType(e)}formatPhoneNumber(e){return this.parseDigits&&(e=this.formatter.input(e),this.formatter.reset()),e}guessCountryBasedOnNumber(e){this.formatter.input(e);var t=this.formatter.country||this.formatter.metadata._country;return this.formatter.reset(),t}unblock(){this.setState({isShaking:!1,isInputBlocked:!1})}block(e){this.setState({isShaking:!0,isInputBlocked:!0,blockedError:e}),clearTimeout(this.shakeStopTimeout),clearTimeout(this.blockedErrorMessageStopTimeout),this.shakeStopTimeout=setTimeout(()=>this.setState({isShaking:!1}),J.i),this.blockedErrorMessageStopTimeout=setTimeout(()=>this.setState({isInputBlocked:!1}),J.b)}updateInputFocus(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.props.isBlockListVisible&&!this.state.isOpen&&(!t||r||Object(i.m)()||this.state.isCountryDropdownBtnFocused||!Y(e,this.props.layoutItemsSize)||e.focus())}isInputFocused(){return!!document&&document.activeElement===this.textInput}render(){var{blockRef:e,validationError:t,isCommitted:r,isValid:n,language:o,layout:i,layoutItemsSize:a,textAlign:l,theme:s,title:u,uniqueId:d,onRequireStickyFooter:p,hasDescription:b,onUnrecoverableError:h,submitForm:m,t:f}=this.props,{isOpen:y,isInputBlocked:v,blockedError:O}=this.state,g="".concat(d,"-country-dropdown"),j=this.getNumber(),w=this.getCountryCode(),C=r&&!n||v,k=Object(N.a)({uniqueId:d,isErrorMessageVisible:C,hasDescription:b});return c.a.createElement(rt,D()({isShaking:this.state.isShaking},this.props,{titleFor:d,titleText:u,titleTag:"legend",onScroll:this.handleOnScroll}),c.a.createElement(Kn,{textAlign:l},c.a.createElement(Un,null,c.a.createElement(Ln,{id:g,backgroundColor:s.colors.background,blockRef:e,innerRef:this.getButtonRef,color:s.colors.secondary,fontFamily:s.font,isOpen:y,language:o,onChange:this.handleCountryChange,onClose:this.handleDropdownClose,onOpen:this.handleDropdownOpen,onTriggerIconButtonBlur:this.handleTriggerIconButtonBlur,onTriggerIconButtonFocus:this.handleTriggerIconButtonFocus,onUnrecoverableError:h,value:w})),c.a.createElement(kt.a,{"aria-describedby":k,disabled:y,"aria-label":f("aria.phone-number.input-label"),getRef:this.getInputRef,inputId:d,color:s.colors.secondary,value:j,placeholder:this.getPlaceholder(w),onChange:this.handleNumberChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onPaste:this.handlePaste,type:"tel",name:"tel",autoComplete:"tel-national",dataQa:"phone-number-input",showBorder:!0})),c.a.createElement(Ae,{backgroundColor:s.colors.background,blockError:v?O:t,blockRef:e,buttonColor:s.colors.button,errorMessageId:Object(N.c)(d),helperColor:s.colors.primary,hideHelperText:this.state.isCountryDropdownBtnFocused,isErrorMessageVisible:C,layout:i,layoutItemsSize:a,onClick:this.handleCommit,onRequireStickyFooter:p,submitForm:m}))}}Wn.defaultProps={defaultCountryCode:"US",recenter:x.a,setBlockTrackingData:x.a,submitForm:x.a,theme:{colors:{secondary:i.b,background:i.b}},updateGlobalEventListenerRef:x.a};var Yn=vt(K(Object(_.a)(Wn))),Gn=e=>c.a.createElement(bn,D()({},e,{maxLength:e.validations.maxLength}));Gn.defaultProps={validations:{maxLength:null}};var Qn=Gn,Jn=new RegExp(/(https?|ftp|app):\/\//),Zn=e=>{var t=function(){var t=Xt()((function*(t){var{blockRef:r}=e,n=Array.isArray(e.value)?e.value[0]:e.value;if(n&&!Jn.test(n))return e.onStageAnswer(r,"".concat("https://").concat(n),t)}));return function(e){return t.apply(this,arguments)}}(),r=function(){var r=Xt()((function*(r){r.persist&&r.persist();var{submitForm:n}=e;yield t(r),n(r)}));return function(e){return r.apply(this,arguments)}}(),n=function(){var r=Xt()((function*(r,n){var{inlineSubmit:o}=e;yield t(n),o(r,n)}));return function(e,t){return r.apply(this,arguments)}}();return c.a.createElement(bn,D()({},e,{onCommitAnswer:(r,n)=>{t(n),e.onCommitAnswer(r,n)},submitForm:r,inlineSubmit:n,inputType:"url"}))},$n=r(300),Xn=r(266),eo=r(36),to=r.n(eo),ro=r(513),no=r(34);function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ao={[no.a.CardCvc]:"createCardCvcElement",[no.a.CardExpiry]:"createCardExpiryElement",[no.a.CardNumber]:"createCardNumberElement"},co=(e,t,r)=>{var n={color:"".concat(e),fontFamily:t,lineHeight:"".concat(L.s[r].lineHeight,"px"),fontSize:"".concat(L.s[r].fontSize,"px"),fontWeight:"".concat(L.l.regular),fontSmoothing:"antialiased",":-webkit-autofill":{color:"".concat(e)}};return{base:io(io({},n),{},{"::placeholder":io(io({},n),{},{color:"".concat(Object(i.z)(e))})}),invalid:{color:"#BB3C50"}}},lo=l.d.div.withConfig({displayName:"stripe-element__Root",componentId:"z3m6zi-0"})(["padding-bottom:","px;background-color:transparent !important;"],L.t),so=e=>{var{type:t,color:r,fontStack:n,onFocus:o,onBlur:i,onChange:s,stripeService:u}=e,d=Object(a.useRef)(),p=Object(a.useRef)(),b=Object(y.useBreakpoint)(),h=Object(l.f)(),m=Object(M.getResponsiveFontSize)(L.i.paymentInputText,b,h.fields.fontSize),f=e=>{var t=!!p.current._autofilled;s(e,t)};return Object(a.useEffect)(()=>{if(u)return p.current=u[ao[t]]({style:co(r,n,m)}),p.current.on("change",f),p.current.on("focus",o),p.current.on("blur",i),p.current.mount(d.current),()=>{p.current&&p.current.destroy()}},[u]),Object(a.useEffect)(()=>{p.current&&p.current.update({style:co(r,n,m)})},[r,b]),c.a.createElement(lo,{ref:d})};so.defaultProps={color:i.b,onFocus:x.a,onBlur:x.a,onChange:x.a};var uo=so;function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class ho extends a.PureComponent{constructor(e){super(e),w()(this,"getAnswerValue",()=>{var e=this.props.value;return e&&e.length&&e[0]?e[0]:{[no.a.CardCvc]:{empty:!0},[no.a.CardExpiry]:{empty:!0},[no.a.CardNumber]:{empty:!0}}}),w()(this,"handleInputBlur",e=>{this.setState({focusStates:bo(bo({},this.state.focusStates),{},{[e]:!1})}),this.props.onInputBlur()}),w()(this,"handleInputFocus",e=>{this.setState({focusStates:bo(bo({},this.state.focusStates),{},{[e]:!0})}),this.props.onInputFocus()}),w()(this,"handleCommit",e=>{e.persist&&e.persist(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},0)}),w()(this,"stage",(e,t)=>{e&&!e.cardholdersName&&e[no.a.CardCvc].empty&&e[no.a.CardExpiry].empty&&e[no.a.CardNumber].empty?this.props.onStageAnswer(this.props.blockRef,[],t):this.props.onStageAnswer(this.props.blockRef,[e],t)}),w()(this,"handleInputChange",(e,t,r)=>{var n=t.type?t:bo(bo({},t),{},{type:"change"}),o=r;if(e===no.a.CardName){var i=this.state.valueStates[e]||"";o=Pt(this.lastInputEventRef.current,t,i),this.setState(bo(bo({},this.state),{},{valueStates:bo(bo({},this.state.valueStates),{},{[e]:t.target.value})}))}if(o){var{blockRef:a,setBlockTrackingData:c}=this.props;c(a,T.a,T.b.BROWSER_AUTO_COMPLETE)}e!==no.a.CardName?this.stage(bo(bo({},this.getAnswerValue()),{},{[e]:{error:t.error,complete:t.complete,empty:t.empty}}),n):this.stage(bo(bo({},this.getAnswerValue()),{},{cardholdersName:t.target.value}),n)}),w()(this,"handleKeyDown",e=>{lt(this.props.type,e),Object(it.h)(e)?e.preventDefault():this.lastInputEventRef.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type}}),w()(this,"handlePaste",e=>{this.lastInputEventRef.current={timestamp:(new Date).getTime(),type:e.type}}),this.lastInputEventRef=c.a.createRef(null),this.state={focusStates:{[no.a.CardCvc]:!1,[no.a.CardExpiry]:!1,[no.a.CardName]:!1,[no.a.CardNumber]:!1},valueStates:{[no.a.CardName]:!1}}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}render(){var e,t,r,n,o,i,a,l,s,u,d,p,{blockRef:b,buttonText:h,hasDescription:m,isCommitted:f,layout:y,layoutItemsSize:v,price:O,submitForm:g,stripeService:j,textAlign:w,theme:C,t:k,title:E,uniqueId:S,validationErrors:I}=this.props,P=this.getAnswerValue(),{focusStates:T}=this.state,_="".concat(S,"-card-name"),x="".concat(S,"-hint-charge"),R="".concat(S,"-hint-store"),A="".concat(S,"-supported-cards"),B=Object(N.a)({uniqueId:S,hasDescription:m,additionalIds:"".concat(x," ").concat(R," ").concat(A)}),F={};return Object.keys(no.a).forEach(e=>{var t=no.a[e],r=I.filter(e=>e.type===t)[0];F[t]={validationError:!!r&&Object(Q.a)(k(null==r?void 0:r.label)),isVisible:!!r&&((null==r?void 0:r.showImmediately)||f)}}),c.a.createElement(rt,D()({},this.props,{titleFor:_,titleTag:"label",titleText:E}),c.a.createElement(V.a,{type:L.i.blockDescription,color:C.colors.primary,htmlTag:"p",id:x},k("block.payment.hintCharge")," ",c.a.createElement(ro.a,null,O)),c.a.createElement(V.a,{type:L.i.blockDescription,color:C.colors.primary,htmlTag:"p",id:R},k("block.payment.hintStore")),c.a.createElement(ee.a,{id:A},"".concat(k("block.payment.supportedCards")," ").concat(ro.c.join(", "))),c.a.createElement(ro.b,{cardNameId:_,cardNameElement:c.a.createElement("form",null,c.a.createElement(kt.a,{"aria-describedby":B,autoComplete:"cc-name",color:C.colors.secondary,inputId:_,onBlur:()=>this.handleInputBlur(no.a.CardName),onChange:e=>this.handleInputChange(no.a.CardName,e),onFocus:()=>this.handleInputFocus(no.a.CardName),onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,placeholder:"Jane Doe",fontSizeType:L.i.paymentInputText,value:P.cardholdersName||""})),cardNameErrorMessage:(null===(e=F[no.a.CardName])||void 0===e?void 0:e.isVisible)&&(null===(t=F[no.a.CardName])||void 0===t?void 0:t.validationError),cardNumberElement:c.a.createElement(uo,{color:C.colors.secondary,fontStack:C.fontStack,onBlur:()=>this.handleInputBlur(no.a.CardNumber),onChange:(e,t)=>this.handleInputChange(no.a.CardNumber,e,t),onFocus:()=>this.handleInputFocus(no.a.CardNumber),stripeService:j,type:no.a.CardNumber}),cardNumberErrorMessage:(null===(r=F[no.a.CardNumber])||void 0===r?void 0:r.isVisible)&&(null===(n=F[no.a.CardNumber])||void 0===n?void 0:n.validationError),cardExpiryElement:c.a.createElement(uo,{color:C.colors.secondary,fontStack:C.fontStack,onBlur:()=>this.handleInputBlur(no.a.CardExpiry),onChange:(e,t)=>this.handleInputChange(no.a.CardExpiry,e,t),onFocus:()=>this.handleInputFocus(no.a.CardExpiry),stripeService:j,type:no.a.CardExpiry}),cardExpiryErrorMessage:(null===(o=F[no.a.CardExpiry])||void 0===o?void 0:o.isVisible)&&(null===(i=F[no.a.CardExpiry])||void 0===i?void 0:i.validationError),cardCVCElement:c.a.createElement(uo,{color:C.colors.secondary,fontStack:C.fontStack,onBlur:()=>this.handleInputBlur(no.a.CardCvc),onChange:(e,t)=>this.handleInputChange(no.a.CardCvc,e,t),onFocus:()=>this.handleInputFocus(no.a.CardCvc),stripeService:j,type:no.a.CardCvc}),cardCVCErrorMessage:(null===(a=F[no.a.CardCvc])||void 0===a?void 0:a.isVisible)&&(null===(l=F[no.a.CardCvc])||void 0===l?void 0:l.validationError),color:C.colors.secondary,id:S,isCardNameErrorVisible:null===(s=F[no.a.CardName])||void 0===s?void 0:s.isVisible,isCardNameFocused:T[no.a.CardName],isCardNumberErrorVisible:null===(u=F[no.a.CardNumber])||void 0===u?void 0:u.isVisible,isCardNumberFocused:T[no.a.CardNumber],isCardCVCErrorVisible:null===(d=F[no.a.CardCvc])||void 0===d?void 0:d.isVisible,isCardCVCFocused:T[no.a.CardCvc],isCardExpiryErrorVisible:null===(p=F[no.a.CardExpiry])||void 0===p?void 0:p.isVisible,isCardExpiryFocused:T[no.a.CardExpiry],stripeLinkText:k("block.payment.securedBy"),textAlign:w}),c.a.createElement(Ae,{blockRef:b,buttonText:h,hideHelperText:!0,hideIcon:!0,isErrorMessageVisible:!1,layout:y,layoutItemsSize:v,onClick:this.handleCommit,submitForm:g}))}}ho.defaultProps={theme:{colors:{primary:i.b,secondary:i.b}},onInputFocus:x.a,onInputBlur:x.a,setBlockTrackingData:x.a,t:to.a,validationErrors:[],submitForm:x.a,value:[{cardholdersName:"",isCardEmpty:!0,isCardValid:!1}],stripeErrorCodes:{},updateGlobalEventListenerRef:x.a};var mo=vt(ho),fo=Object(o.b)(e=>({price:Object(Se.L)(e),stripeErrorCodes:Xn.a,stripeService:Object($n.d)(e)}))(K(Object(y.withBreakpoint)(mo))),yo=r(517);var vo=function(e){var t=Object(a.useRef)([]),r=Object(a.useRef)(null);function n(){clearTimeout(r.current),r.current=null}return{onKeyDown:o=>{Object(it.k)(o)?(null===r.current&&(o.persist&&o.persist(),t.current=[],r.current=setTimeout(()=>{e(function(e){return e.reduce((e,t,r)=>e+t*Math.pow(10,r),0)}(t.current),o)},J.e)),t.current.unshift(parseInt(o.key,10))):n()},clearNumberTimeout:n}},Oo=e=>{var[t,r]=Object(a.useState)(!1),{labels:n,blockIndex:o,blockRef:i,startAtOne:l,steps:s,theme:u,validationError:d,isActive:p,isCommitted:b,isValid:h,layout:m,layoutItemsSize:f,onCommitAnswer:y,onStageAnswer:v,submitForm:O,title:g,value:j,uniqueId:w,hasBeenInteractedWith:C,isFirstBlock:k}=e,E=l?1:0,S=E+s-1,I=j&&j.length>0?j[0]:void 0,P=Object(N.c)(w),T=b&&!h;Object(a.useEffect)(()=>{(function(){var e=Xt()((function*(){var e=0===o?(()=>{var e,t;if(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||!t.search)return null;var r=window.location.search.match(/prefilled_answer=[0-9]+/);return r?[parseInt(r[0].split("=")[1],10)]:null})():null,t=gr(i)||e,r=t&&t[0]>=E&&t[0]<=S,n=j&&j.some(Boolean);p&&!n&&!C&&r&&(yield wr(),v(i,t),k&&(yield Cr(),y(i)))}));return function(){return e.apply(this,arguments)}})()()},[p]);var _=Object.keys(n).length>0,x=Object(N.a)({isErrorMessageVisible:T,hasInputInstructions:_,uniqueId:w}),{onKeyDown:R,clearNumberTimeout:A}=vo(F),B=Object(a.useCallback)(e=>{Object(it.e)(e)||Object(it.n)(e)||e.stopPropagation(),t&&R(e)},[t,R]);function F(e,t){A(),I!==e?e<=S&&e>=E&&(v(i,[e],t),setTimeout(()=>{y(i,t)},J.c)):v(i,[],t)}ft(p,B);return c.a.createElement(rt,D()({},e,{titleText:g,titleTag:"legend",onKeyDown:B}),c.a.createElement(er.a,{onEnter:()=>r(!0),onLeave:()=>r(!1)},c.a.createElement("div",null,c.a.createElement(yo.a,{ariaDescribedBy:x,color:u.colors.secondary,labelLeft:n.left,labelCenter:n.center,labelRight:n.right,max:S,min:E,onChange:function(e,t){F(e,t)},selectedAmount:I}),(()=>{if(!_)return null;var e=Object(N.d)(w);return c.a.createElement(ee.a,{id:e,tabIndex:"-1"},n.left,", ",E,", ",n.right,", ",S)})())),c.a.createElement(Ae,{blockRef:i,blockError:d,errorMessageId:P,isErrorMessageVisible:T,layout:m,layoutItemsSize:f,onClick:function(e){e.stopPropagation(),p&&y(i,e)},submitForm:O}))};Oo.defaultProps={labels:{},onCommitAnswer:x.a,onStageAnswer:x.a,submitForm:x.a,theme:{colors:{secondary:i.b}}};var go=Oo,jo=r(520),wo=e=>{var{value:t,blockRef:r,shape:n,steps:o,theme:i,validationError:l,isActive:s,isCommitted:u,isValid:d,layout:p,layoutItemsSize:b,onCommitAnswer:h,onStageAnswer:m,submitForm:f,textAlign:y,title:v,uniqueId:O}=e,[g,j]=Object(a.useState)(!1),w=o,C=t&&t.length>0?t[0]:void 0,k=Object(N.c)(O),E=u&&!d,{onKeyDown:S,clearNumberTimeout:I}=vo(T),P=Object(a.useCallback)(e=>{var t=e.nativeEvent||e;Object(it.e)(t)||Object(it.n)(t)||e.stopPropagation(),g&&S(e)},[g,S]);function T(e,t){I(),C!==e?e<=w&&e>=1&&(t.persist&&t.persist(),m(r,[e],t),setTimeout(()=>{h(r,t)},J.c)):m(r,[],t)}return ft(s,P),c.a.createElement(rt,D()({},e,{titleText:v,titleTag:"legend",onKeyDown:P}),c.a.createElement(er.a,{onEnter:()=>j(!0),onLeave:()=>j(!1)},c.a.createElement("div",null,c.a.createElement(jo.a,{ariaDescribedBy:E?k:null,color:i.colors.secondary,iconName:n,max:w,min:1,onChange:function(e,t){T(e,t)},selectedAmount:C,textAlign:y}))),c.a.createElement(Ae,{blockRef:r,blockError:l,errorMessageId:k,isErrorMessageVisible:E,layout:p,layoutItemsSize:b,onClick:function(e){e.stopPropagation(),s&&h(r,e)},submitForm:f}))};wo.defaultProps={onCommitAnswer:x.a,onStageAnswer:x.a,shape:"circle",submitForm:x.a,theme:{colors:{secondary:i.b}}};var Co=wo,ko=c.a.lazy(()=>r.e(5).then(r.bind(null,530))),Eo=e=>{var{field:t,value:r,onStageAnswer:n,onCommitAnswer:o,blockIndex:i,layout:l,language:s,title:u,theme:d,layoutItemsSize:p,validationError:b,uniqueId:h,isCommitted:m,isValid:f,hasDescription:y,submitForm:v,isActive:O}=e;ft(O,Object(a.useCallback)(x.a,[]));var g=Object(N.c)(h),j=m&&!f,w=Object(N.a)({uniqueId:h,isErrorMessageVisible:j,hasDescription:y});return c.a.createElement(rt,D()({},e,{titleText:u}),c.a.createElement(a.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(ko,{blockIndex:i,theme:d,field:t,answer:r,onChange:function(e){n(t.ref,e)},ariaDescribedBy:w,locale:s})),c.a.createElement(Ae,{blockRef:t.ref,layout:l,layoutItemsSize:p,onClick:function(e){o(t.ref,e)},blockError:b,errorMessageId:g,isErrorMessageVisible:j,submitForm:v}))};Eo.defaultProps={submitForm:x.a,theme:{colors:{secondary:i.b}}};var So=Eo,Io=r(305);function Po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _o=c.a.lazy(()=>r.e(4).then(r.bind(null,532))),xo=e=>{var{value:t,blockRef:r,field:n,isCommitted:o,isValid:i,layout:l,layoutItemsSize:s,language:u,onCommitAnswer:d,onStageAnswer:p,submitForm:b,theme:h,title:m,uniqueId:f,validationError:y,childFields:v,isActive:O}=e;ft(O,Object(a.useCallback)(x.a,[]));var g=Object(N.c)(f),j=o&&!i,w=t&&t[0]&&Object.keys(t[0]).reduce((e,r)=>To(To({},e),{},{[r]:t[0][r].value.map(e=>{var{value:t}=e;return t})}),{}),C=n.properties.fields.some(e=>e.validations.required)?To(To({},n.validations),{},{required:!0}):n.validations;return c.a.createElement(rt,D()({},e,{validations:C,titleText:m}),c.a.createElement(a.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(_o,{answer:w,field:n,onAnswerChange:function(e,n,o){var i=v.find(t=>t.ref===e);p(r,[To(To({},t[0]),{},{[e]:Object(Io.a)(To(To({},i),i.properties),n)})],o)},theme:h,onReset:function(){p(r,void 0)},locale:u})),c.a.createElement(F.b,{top:2},c.a.createElement(Ae,{blockError:y,blockRef:r,errorMessageId:g,hideHelperText:!0,isErrorMessageVisible:j,layout:l,layoutItemsSize:s,onClick:function(){d(r)},submitForm:b})))};xo.defaultProps={submitForm:x.a,theme:{colors:{secondary:i.b}}};var Ro=xo,Do={[P.a.date]:{component:Object(_.a)(Zt)},[P.a.dropdown]:{component:Object(_.a)(rn)},[P.a.email]:{component:Object(_.a)(hn)},[P.a.fileUpload]:{component:Object(_.a)(cr)},[P.a.group]:{component:Object(_.a)(an)},[P.a.legal]:{component:Object(_.a)(dn)},[P.a.longText]:{component:Object(_.a)(wt)},[P.a.multipleChoice]:{component:Object(_.a)(Pr)},[P.a.number]:{component:Object(_.a)(fn)},[P.a.pictureChoice]:{component:Object(_.a)(Ar)},[P.a.shortText]:{component:Object(_.a)(Qn)},[P.a.statement]:{component:Object(_.a)(cn)},[P.a.website]:{component:Object(_.a)(Zn)},[P.a.yesNo]:{component:Object(_.a)(sn)},[P.a.payment]:{component:Object(_.a)(fo)},[P.a.phoneNumber]:{component:Object(_.a)(Yn)},[P.a.opinionScale]:{component:Object(_.a)(go)},[P.a.rating]:{component:Object(_.a)(Co)},[P.a.ranking]:{component:Object(_.a)(So)},[P.a.matrix]:{component:Object(_.a)(Ro)}},Ao=e=>{var{type:t}=e,r=I()(e,["type"]);Object(a.useEffect)(()=>{var{blockRef:e,isActive:t,isLivePreview:n,onStageAnswer:o,partialResponse:i,setBlockTrackingData:a,value:c}=r;n||!t||!i||null!=c&&c.length||(a(e,T.a,T.b.PARTIAL_RESPONSE),o(e,i))},[r.isActive]);var n=Do[t];return n?c.a.createElement(n.component,Object.assign({type:t},r,n.props)):c.a.createElement("div",null)};Ao.defaultProps={setBlockTrackingData:x.a};var Bo=Ao,Fo=r(127),No=r(171),Mo=r(54),Vo=r(9);function Lo(){return{type:Vo.M,payload:{isInputFocused:!0}}}var Ho=r(35),zo=r(39),qo=r(67);function Ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wo,Yo,Go,Qo=k()(JSON.stringify,Se.h),Jo=()=>(Object(ut.d)()&&window.scrollBy(0,0),e=>{setTimeout(()=>{e({type:Vo.M,payload:{isInputFocused:!1}})},50)}),Zo=Object(o.b)((e,t)=>{var{blockRef:r}=t,n=((e,t)=>{var r=null;return(n,o)=>{var i,a=Object(Se.m)(n,o),c=Object(Se.b)(n,o),l=Object(Pe.c)(n,a),s=c&&Object(Se.d)(c),u=Object(xe.f)(n),d=!Object(Se.N)(n)&&!Object(Se.M)(n);if(r&&!l&&r.isActive===l&&r.theme===u&&r.isCommitted===s&&r.isBlockListVisible===d)return r;var p=!Object(Se.C)(a.type,c),b=c&&Object(Se.e)(c),h=c&&Object(Se.c)(c),m=Object(Ie.c)(n,o),f=Object(Ie.d)(n,o),y=Object(Ho.f)(n),O=e(n),g=t(n),j=y(O,{allowHyperlinks:!0}),w=y(g,{allowHyperlinks:!0}),C=Object(v.h)(null===(i=u.fields)||void 0===i?void 0:i.alignment,a.layout.type),k=Uo(Uo({},a),{},{field:Object(Se.w)(n,o),blockIndex:Object(Se.n)(n,o),isFirstBlock:Object(Pe.k)(n,o),title:j,description:w,hasDescription:Boolean(g&&g.length),formId:Object(Ee.d)(n),uniqueId:Object(Pe.d)(n,o),isAnswered:p,isActive:l,isValid:b,hasBeenInteractedWith:h,validationError:m,validationErrors:f,theme:u,isCommitted:s,isFocused:l&&Object(Pe.a)(n),isBlockListVisible:d,isReviewModeEnabled:Object(Ee.p)(n),isScrollNearTop:Object(Ee.q)(n),isVisibleGroupStickyHeader:Object(Se.D)(n),isLivePreview:Object(Ee.l)(n),language:Object(Ee.u)(n),shouldClearInput:!p&&Object(Ee.l)(n),partialResponse:Object(Re.c)(n,o),value:Qo(c),scrolling:Object(Ee.z)(n),ref:void 0,textAlign:C,isMultipleChoiceABTestVariant:Object(qo.a)(n,zo.f)===zo.g});return r=k,k}})(Object(Ho.b)(r),Object(Ho.a)(r));return e=>n(e,r)},e=>Uo({},Object(E.b)({onCommitAnswer:Fo.a,onStageAnswer:Fo.b,goToBlock:b.f,recenter:b.l,scrollToChoice:b.m,endAutoScroll:b.b,onInputFocus:Lo,onInputBlur:Jo,onRequireStickyFooter:Ce.a,onRequireStickyHeader:No.a,onUnrecoverableError:ke.e,setBlockTrackingData:Mo.b,submitForm:h.b,inlineSubmit:h.a},e)))(Bo),$o=r(139),Xo=r(107),ei=null===(Wo=window)||void 0===Wo||null===(Yo=Wo.location)||void 0===Yo||null===(Go=Yo.search)||void 0===Go?void 0:Go.includes("typeform-render-all-blocks=true"),ti=r(398),ri=r(41),ni=r(399),oi=r.n(ni),ii=l.d.div.withConfig({displayName:"MouseWheelTrigger__Root",componentId:"sc-1nbmmxo-0"})(["outline:none;width:100%;"]);class ai extends a.Component{constructor(){super(...arguments),w()(this,"Lethargy",new oi.a),w()(this,"accumulated",0),w()(this,"timeout",null),w()(this,"disableTimeout",null),w()(this,"disabledSwipe",!1),w()(this,"handleWheelScroll",e=>{var{upHandler:t,downHandler:r}=this.props,n=this.Lethargy.check(e),o=e.deltaY;this.disabledSwipe||!1===n||(this.accumulated+=o,this.setTimeout(()=>{this.accumulated=0})),this.accumulated<-300&&(t(),this.accumulated=0,this.disableSwipe(500)),this.accumulated>300&&(r(),this.accumulated=0,this.disableSwipe(500))})}setTimeout(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(e,500)}disableSwipe(e){this.disableTimeout&&clearTimeout(this.disableTimeout),this.disabledSwipe=!0,this.disableTimeout=setTimeout(()=>{this.disabledSwipe=!1},e)}render(){return c.a.createElement(ii,{style:this.props.customStyle,onWheel:this.handleWheelScroll},this.props.children)}}var ci=ai;class li extends a.PureComponent{render(){var e=this.props.fullHeight?{height:"100%"}:{};return c.a.createElement(ci,{customStyle:e,downHandler:()=>{var{canSwipeNext:e,goToNextBlock:t}=this.props;e&&t(ri.d)},upHandler:()=>{var{canSwipePrevious:e,goToPreviousBlock:t}=this.props;e&&t(ri.e)}},c.a.createElement(ti.a,D()({style:e,onSwiped:e=>{this.swipping=!1;var{canSwipeNext:t,canSwipePrevious:r}=this.props;Math.abs(e.deltaY)>50/e.velocity&&("Up"===e.dir?t&&!this.blockSwipeNext&&this.props.goToNextBlock(ri.g):"Down"===e.dir&&r&&!this.blockSwipePrevious&&this.props.goToPreviousBlock(ri.f))},onSwiping:()=>{if(this.swipping)return!1;var{canSwipeNext:e,canSwipePrevious:t}=this.props;this.blockSwipeNext=!e,this.blockSwipePrevious=!t,this.swipping=!0}},{delta:10,preventDefaultTouchmoveEvent:!1,trackTouch:!0,trackMouse:!1}),this.props.children))}}var si=li,ui=l.d.div.withConfig({displayName:"BlockList__Root",componentId:"ny54fa-0"})(["height:100%;"]),di=l.d.div.withConfig({displayName:"BlockList__Wrapper",componentId:"ny54fa-1"})(["position:absolute;width:100%;height:100%;padding-top:","px;",";"," ",";transition:transform ","ms ease,opacity ","ms ease;",";",";",";"],e=>e.topOffset,e=>!e.isVisible&&"\n    opacity: 0;\n    pointer-events: none;\n  ",e=>!e.isDisplayed&&"display: none;",e=>(e.shouldBeUp||e.shouldBeDown)&&"pointer-events: none",J.c,J.c/2,e=>(e.shouldBeUp||e.shouldBeDown)&&"opacity: 0",e=>e.shouldBeUp&&"transform: translateY(-100vh)",e=>e.shouldBeDown&&"transform: translateY(100vh)"),pi=(e,t)=>e.findIndex(e=>e.ref===t),bi=(e,t,r)=>{var{currentRef:n,previousRef:o,previousActiveRef:i,nextRef:a}=t,c=e.ref===n,l=e.ref===i,s=e.ref===o,u=e.ref===a,d=e.type===P.a.payment||e.type===P.a.fileUpload;return ei||r&&(c||s||l)||c||s||u||d},hi=e=>{var t,r,{blocks:n,blockChanging:o,canShowSubmitButton:i,component:l,currentPath:s,currentRef:u,forceSubmitButtonVisible:d,goToBlock:p,goToNextBlock:b,goToNextBlockFollowingLogic:h,goToPreviousBlock:j,inlineSubmit:w,isBlockChanging:C,isSubmitButtonVisible:k,isVisible:E,layoutItemsSize:S,nextRef:I,previousActiveRef:P,previousRef:T,theme:_}=e,x=Object($o.a)(s),R=pi(n,u),D=Object(g.a)(),[A,B]=Object(a.useState)(!1),[F,N]=Object(a.useState)(!1),[M,V]=Object(a.useState)(!1),[L,H]=Object(a.useState)(!D);Object(a.useEffect)(()=>{L||D||H(!0)},[u,A]),Object(a.useEffect)(()=>{D&&H(!1)},[D]),Object(a.useEffect)(()=>{B(E)},[E]),Object(a.useEffect)(()=>{A&&o()},[A]);var z=Object(y.useBreakpoint)(),q=((e,t)=>e.find(e=>e.ref===t))(n,u),K=(null==q||null===(t=q.layout)||void 0===t?void 0:t.type)||v.d.STACK,W=(null==q||null===(r=q.layout)||void 0===r?void 0:r.attachment)||(null==q?void 0:q.attachment),Y=Object(a.useCallback)(e=>{var{next:t,previous:r}=e;t!==F&&N(t),r!==M&&V(r)},[F,M]),G=()=>{D||(null==W?void 0:W.type)!==O.b.video||H(e=>!e)},Q=Object(a.useCallback)((e,t)=>{if(Object(it.i)(e)&&G(),Object(it.n)(e)&&!Object(it.l)(e)&&!k&&i&&t)return d(!0),void e.preventDefault();if(Object(it.e)(e))return w(u,e),void e.preventDefault();if(Object(it.h)(e)&&!k&&!Object(it.l)(e)&&!t){var r=Object(Xo.a)(e);h(u,r),e.preventDefault()}},[G,k,i,d,w,h,Xo.a]),J={currentRef:u,previousRef:T,previousActiveRef:P,nextRef:I};return c.a.createElement(ui,null,c.a.createElement(U.Provider,{value:C},c.a.createElement(mt,{commonHandleKeydown:Q},c.a.createElement(si,{goToPreviousBlock:j,goToNextBlock:b,canSwipeNext:F,canSwipePrevious:M,fullHeight:!0},c.a.createElement(m.b,{hasAttachment:!!W,backgroundColor:_.colors.background,blocksMedia:n.map(e=>((e,t,r,n,o,i,a)=>{var l,s,u,d,p,b=e.layout||{type:v.d.STACK},h=b.type,y=Object(v.g)(h,t),{currentRef:O}=n,g=h===v.d.STACK?e.attachment:null===(l=e.layout)||void 0===l?void 0:l.attachment;if(!m.a.includes(y)||!g||!bi(e,n,o))return null;var j=null==g?void 0:g.href,w=null==g?void 0:g.type,C=null!==(s=null==g||null===(u=g.properties)||void 0===u?void 0:u.focalPoint)&&void 0!==s?s:v.a,k=null==g||null===(d=g.properties)||void 0===d?void 0:d.brightness,E=null==g||null===(p=g.properties)||void 0===p?void 0:p.description,S=e.ref===O;return c.a.createElement(f.a,{attachmentAlt:E,attachmentBrightness:k,attachmentFocalPoint:C,attachmentHref:j,attachmentType:w,breakpoint:t,isVisible:S,key:e.ref,layoutType:h,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",layoutPlacement:b.placement,isVideoPlaying:i&&S,onVideoClick:a})})(e,z,0,J,A,L,G)),breakpoint:z,isVisible:A,layoutType:K},n.map(t=>{var r=t.ref===I,o=t.ref===u,i=t.ref===P,a=A&&(o||i),d=!bi(t,J,A)||!ei&&r&&!A,b=pi(n,t.ref),h=((e,t)=>t.some(t=>t.ref===e.ref))(t,s);return c.a.createElement(di,{isDisplayed:h,key:t.ref,isVisible:a,shouldBeUp:b<R,shouldBeDown:b>R||!A,topOffset:e.topOffset,onFocus:e=>p(t.ref,Object(Xo.a)(e))},!d&&c.a.createElement(l,{onChangeCanSwipe:Y,blockRef:t.ref,layoutItemsSize:S,listIndexText:x[pi(s,t.ref)],isVideoPlaying:L,onVideoClick:G}))}))))))};hi.defaultProps={blocks:[],blockChanging:x.a,component:Zo,goToBlock:x.a,theme:{colors:{background:i.b}}};var mi=hi,fi=e=>e&&e.attachment&&"image"===e.attachment.type&&e.attachment.resource&&e.attachment.resource.src,yi=r(85),vi={blockChanging:b.a,forceSubmitButtonVisible:b.e,goToBlock:b.f,goToNextBlockFollowingLogic:b.i,goToNextBlock:b.h,goToPreviousBlock:b.j,inlineSubmit:h.a,onEndAutoScroll:b.b},Oi=Object(o.b)(e=>{var t=Object(Se.u)(e),r=Object(i.m)()&&Object(Ee.k)(e),n=!Object(yi.a)(e)&&!r&&Object(Se.D)(e),o=n?Object(Ee.D)(e):null,a=fi(o),c=0;return n&&(c=a?88:60),{blocks:Object(Se.q)(e),canShowSubmitButton:Object(Ee.b)(e,t),currentPath:Object(Se.t)(e),currentRef:t,isBlockChanging:Object(Ee.i)(e),isSubmitButtonVisible:Object(Ee.r)(e,t),nextRef:Object(Se.I)(e,t),previousActiveRef:Object(Ee.v)(e),previousRef:Object(Pe.r)(e),scrolling:Object(Ee.z)(e),theme:Object(xe.f)(e),topOffset:c}},vi)(mi),gi=r(396),ji=r.n(gi);function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ci,ki,Ei=e=>e?e.childOfGroup&&e.listIndexText?null:e.titleCounterIcon||"arrow":null,Si=l.d.div.withConfig({displayName:"StickyHeaderContainer__Wrapper",componentId:"sc-1tjdqrs-0"})(["position:absolute;top:0;left:0;width:100%;z-index:",";",";"],L.v.level3,e=>e.isVisible?"":"pointer-events: none;"),Ii=Ue.a?0:300,Pi=(Ci=ji.a,ki=Ii,class extends a.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),this.shouldRender=!1,this.updateState=Object(Ke.debounce)(ki,this.updateState)}UNSAFE_componentWillReceiveProps(e){this.shouldRender=!1,this.updateState(e)}componentWillUnmount(){this.updateState.cancel()}updateState(e){this.shouldRender=!0,this.setState(e)}shouldComponentUpdate(){return this.shouldRender}render(){return c.a.createElement(Ci,this.state)}}),Ti=Object(y.withBreakpoint)(Object(o.b)((e,t)=>{var r=Object(yi.a)(e),n=Object(Ee.k)(e),o=Object(i.m)()&&n,a=!r&&Object(Ee.j)(e)&&"sm"!==t.breakpoint&&!o,c=!r&&Object(Se.D)(e)&&!o,l=a?Object(Ee.C)(e):null,s=c?Object(Ee.D)(e):null,u=Ei(s),d=Ei(l),p=Object(Ho.f)(e);return{groupHeaderVisible:c,groupTitle:(null==s?void 0:s.title)&&p(s.title),groupHeaderIcon:u,groupHeaderCounter:s&&s.listIndexText,groupHeaderImage:fi(s),questionHeaderVisible:a,questionTitle:(null==l?void 0:l.title)&&p(l.title),questionHeaderIcon:d,questionHeaderCounter:l&&l.listIndexText,contextBackgroundColor:Object(xe.a)(e),contentColor:Object(xe.d)(e),counterColor:Object(xe.e)(e),oldLayout:!0,isBlockChanging:Object(Ee.i)(e),activeBlockRef:l?l.ref:null,groupBlock:s}})(e=>{var{isBlockChanging:t,questionHeaderVisible:r,questionTitle:n,groupHeaderVisible:o,groupTitle:i,activeBlockRef:l}=e,s=I()(e,["isBlockChanging","questionHeaderVisible","questionTitle","groupHeaderVisible","groupTitle","activeBlockRef"]),[u,d]=Object(a.useState)(!1);Object(a.useEffect)(()=>{if(!t){var e=setTimeout(()=>d(!1),Ii);return()=>clearTimeout(e)}d(!0)},[t]);var p=!u&&!t&&(o||r);return c.a.createElement(Si,{"aria-hidden":!0,"data-qa-stickyheader-visible":p,"data-qa-stickyheader-blockref":l,isVisible:!u&&!t&&(o||r)},c.a.createElement(Pi,D()({questionHeaderVisible:r&&!u&&!t,groupHeaderVisible:o,questionHeaderContent:n,groupHeaderContent:i},s)))})),_i=r(121),xi=r(449),Ri=r.n(xi),Di=r(140),Ai=r(117),Bi={nextButtonOnClick:e=>Object(b.h)(Object(Xo.a)(e)),previousButtonOnClick:e=>Object(b.j)(Object(Xo.a)(e))},Fi=Object(St.a)(Object(o.b)((e,t)=>{var r=Object(yi.e)(e),n=Object(_e.b)(e),o=Object(Ee.l)(e)?null:n("https://www.typeform.com/discover","typeform-footer"),a=Object(Ie.b)(e),c=Object(Se.i)(e);return{answeredText:t.t("label.progress.proportion",{step:a,total:c}),brandButtonHref:o,brandButtonText:Object(Q.a)(t.t("label.branding.poweredby")),buttonsColor:Object(xe.b)(e),buttonsContentColor:Object(xe.c)(e),contextBackgroundColor:Object(xe.a)(e),dataQa:"fixed-footer",isBrandLogoVisible:Object(Ai.c)(e),nextButtonDisabled:!Object(Di.a)(e),percentageText:t.t("label.progress.percent",{percent:Math.round(100*a/c)}),previousButtonDisabled:!Object(Di.b)(e),progressBackgroundColor:Object(xe.a)(e),progressColor:Object(xe.d)(e),progressCompletedAmount:Object(Ie.b)(e),progressTotalAmount:Object(Se.i)(e),progressType:Object(Ee.w)(e),transparentButtons:Object(xe.g)(e),visible:!Object(i.m)()||!Object(Ee.k)(e),withBackground:!r,withBranding:Object(Ee.B)(e),withNavigationArrows:!r&&!Object(Ee.f)(e),withProgress:!r&&!Object(Ee.o)(e)}},Bi)(Ri.a)),Ni=r(23),Mi=r(145),Vi=r.n(Mi),Li=r(68),Hi=r.n(Li),zi=r(295),qi=l.d.div.withConfig({displayName:"StickyFooter__CommitButtonWrapper",componentId:"sc-1ud3eur-0"})(["display:flex;align-items:center;"]),Ki=l.d.div.withConfig({displayName:"StickyFooter__StickyFooterPlaceholder",componentId:"sc-1ud3eur-1"})(["position:absolute;width:100%;overflow:hidden;height:","px;bottom:","px;z-index:",";opacity:",";visibility:",";"],56,L.m,e=>e.isActive?L.v.level3:L.v.level0,e=>e.isActive?"1":"0",e=>e.isActive?"visible":"hidden"),Ui=l.d.div.withConfig({displayName:"StickyFooter__StickyFooterWrapper",componentId:"sc-1ud3eur-2"})(["display:flex;align-items:center;justify-content:space-between;border-top:1px solid;height:","px;background-color:",";border-color:",";"],e=>e.$height,e=>Object(i.x)(Object(i.q)(e.contextBackgroundColor,e.$color,.2)),e=>Object(i.q)(e.contextBackgroundColor,e.$color,.3)),Wi=e=>{var{blockRef:t,show:r,theme:n,t:o,breakpoint:i,buttonText:a,showButtonIcon:l,helperText:s,isButtonTypeSubmit:u,isEnabled:d,isLivePreview:b,isPaymentBlockAnswered:h,onCommitAnswer:m,price:f,recenter:y,submit:v,submitForm:O}=e,g=Object(se.useIsTouch)();if(!d)return null;var j="sm"===i,w=j||g?"":Object(Q.a)(o(s));return c.a.createElement(Ki,{"aria-hidden":!0,isActive:r},c.a.createElement(p.a,{type:"slideUp",isVisible:r},c.a.createElement(Ui,{$height:56,contextBackgroundColor:n.colors.background,$color:n.colors.secondary,"data-qa":"sticky-footer","data-qa-visible":r},c.a.createElement(Ni.b,null,c.a.createElement(qi,null,u?c.a.createElement(pe,{centered:j,fullWidth:j,helperText:"",isComplete:v.isComplete,isLivePreview:b,isPaymentBlockAnswered:h,isSubmitting:v.isSubmitting,onClick:e=>{y(ot),O(e)},price:f,size:"medium",t:o,theme:n}):c.a.createElement(Hi.a,{fullWidth:j,onClick:e=>{m(t,e,zi.a)},iconSvg:l?le.a:null,size:"medium",color:n.colors.button,contentColor:n.colors.buttonContent,contextBackgroundColor:n.colors.background,transparent:n.hasTransparentButton,dataQa:"sticky-footer-button"},o(a)),w&&c.a.createElement(F.b,{left:2},c.a.createElement(Vi.a,{text:w,color:n.colors.secondary})))))))};Wi.defaultProps={t:e=>e,recenter:e=>e,buttonText:"label.button.ok",showButtonIcon:!0,isEnabled:!0,theme:{colors:{background:i.b,button:i.b,secondary:i.b}},submit:{retry:{},isComplete:!1,isSubmitting:!1}};var Yi=Object(y.withBreakpoint)(Object(_.a)(Wi)),Gi={onCommitAnswer:Fo.a,recenter:b.l,submitForm:h.b},Qi=Object(o.b)(e=>{var t=Object(Se.u)(e),r=Object(Ee.y)(e),n=Object(Se.m)(e,r);if(!n||r!==t)return{show:!1,theme:Object(xe.f)(e)};var o=Object(i.m)()&&Object(Ee.k)(e),a=Object(Ee.h)(e,r),c=G()?"label.buttonHint.submit-mac":"label.buttonHint.submit";return{blockRef:r,buttonText:n.buttonText,helperText:a?c:"label.buttonHint.default",isButtonTypeSubmit:a,isEnabled:Object(i.m)(),isLivePreview:Object(Ee.l)(e),isPaymentBlockAnswered:Object(Ie.m)(e),price:Object(Se.L)(e),show:!Object(yi.e)(e)&&!o,showButtonIcon:!Object(Se.E)(n),submit:Object(Se.P)(e),theme:Object(xe.f)(e)}},Gi)(Yi),Ji=r(519),Zi=e=>{var{breakpoint:t,href:r,isOnScreen:n,isStickyHeaderVisible:o,isVisible:i,placement:a}=e,l=((e,t,r)=>"sm"===t?r?Ji.a.TOP_LEFT:Ji.a.BOTTOM_LEFT:e)(a,t,n),s=l===Ji.a.TOP_LEFT&&o;return c.a.createElement(Ji.b,{href:r,isVisible:i&&!s,placement:l})},$i=Object(y.withBreakpoint)(Object(o.b)((e,t)=>{var r=Object(Ee.j)(e)&&"sm"!==t.breakpoint,n=Object(Se.D)(e);return{breakpoint:t.breakpoint,href:Object(Ai.a)(e),isOnScreen:Object(Se.M)(e)||Object(Se.N)(e),isStickyHeaderVisible:(r||n)&&!Object(yi.a)(e),isVisible:Object(Ai.c)(e),placement:Object(Ai.b)(e)}})(Zi)),Xi=l.d.div.withConfig({displayName:"Form__Root",componentId:"sc-18c4ntz-0"})(["height:100%;overflow:hidden;"]),ea=l.d.div.withConfig({displayName:"Form__FooterWrapper",componentId:"sc-18c4ntz-1"})(["position:absolute;opacity:inherit;right:0;left:0;bottom:0;z-index:10;pointer-events:none;"]),ta=e=>{"stkv-form-root"===e.target.id&&(e.target.scrollTop=0)},ra=e=>{var{layoutItemsSize:t,showBlockList:r,showThankYouScreen:n,showWelcomeScreen:o}=e,i=Object(_i.a)(),[l,s]=Object(a.useState)(Object(ut.d)());return Object(a.useEffect)(()=>{if(r&&Object(ut.d)()){var e=setTimeout(()=>s(!1),J.c+200);return()=>clearTimeout(e)}return()=>{}},[r]),i&&o?null:c.a.createElement(Xi,{"aria-hidden":n||o,id:"stkv-form-root",onScroll:ta},c.a.createElement(Ti,null),!n&&c.a.createElement(a.Fragment,null,c.a.createElement(Oi,{component:Zo,isVisible:r,layoutItemsSize:t}),c.a.createElement(Qi,null)),c.a.createElement(p.a,{isVisible:r,type:"fade",duration:Ue.a?0:500,delay:Ue.a?0:300},c.a.createElement(ea,{"aria-hidden":l},c.a.createElement(Fi,null))),c.a.createElement($i,null))};ra.defaultProps={layoutItemsSize:{}};var na=ra;t.default=Object(o.b)(e=>({theme:e.form.theme,showBlockList:!Object(Se.N)(e)&&!Object(Se.M)(e),isFooterVisible:!Object(i.m)()||!Object(Ee.k)(e),hasBlocksWithAnswer:Object(Ie.f)(e),showThankYouScreen:Object(Se.M)(e),showWelcomeScreen:Object(Se.N)(e)}))(na)},529:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return vr}));var n=r(106),o=r(384),i=r(389),a=r(9),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function l(e){for(var t="",r=0;r<e;r++)t+=c.charAt(Math.floor(Math.random()*c.length));return t}var s=r(6),u=r.n(s);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t}=arguments.length>1?arguments[1]:void 0;switch(t){case a.t:return p(p({},e),{},{isFormMarkAsClosed:!0});case a.F:return p(p({},e),{},{isFormMarkAsClosed:!0,isCloseScreenVisible:!0});default:return e}};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(e,t)=>{var{payload:{ref:r}}=t;return m(m({},e),{},{currentRef:r,previousRef:e.currentRef,requireStickyFooter:null,forceSubmitButtonVisible:!1})},y=(e,t)=>{var{payload:r}=t;return m(m({},e),{},{isBlockChanging:r})},v=(e,t)=>{var{payload:r}=t;return m(m({},e),{},{forceSubmitButtonVisible:r})};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=(e,t)=>{var{payload:{anchor:r,target:n,fast:o}}=t;return g(g({},e),{},{scrolling:{scrollType:"recenter",anchor:r,target:n,fast:o}})},w=(e,t)=>{var{payload:{ref:r}}=t;return g(g({},e),{},{scrolling:{ref:r,scrollType:"choice"}})},C=(e,t)=>{var{payload:{ref:r}}=t;return g(g({},e),{},{currentScreenRef:r})},k=e=>g(g({},e),{},{currentScreenRef:null});function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t){var{payload:{isScrollNearTop:r}}=t;return S(S({},e),{},{isScrollNearTop:r})}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){var{payload:{blockRef:r,show:n=!1}}=t;return n||e.requireStickyFooter===r?T(T({},e),{},{requireStickyFooter:n?r:null}):e}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=(e,t)=>{var r=e.blocks.findIndex(e=>e.id===t.payload.blockId);return e.blocks[r].file=t.payload.file,R({},e)},A=(e,t)=>{var r=e.blocks.findIndex(e=>e.id===t.payload.blockId);return e.blocks[r].uploadProgress=t.payload.uploadProgress,R({},e)};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){return F(F({},e),{},{scrolling:null})}var M=r(60),V=r(114);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z=r(134);var q=r(390),K=r.n(q),U=r(150),W=r(83),Y=r(2);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J={answersList:[]},Z=(e,t)=>{var{payload:{validationErrors:r,blockRef:n}}=t,o=Object(W.a)(e.answersList,n),i=e.answersList[o];return Q(Q({},e),{},{answersList:K()(o,Q(Q({},i),{},{validationErrors:null!=r?r:[],isValid:!r||0===r.length}),e.answersList)})},$=(e,t)=>{var{payload:{answer:r}}=t,n=Object(Y.a)(r),o=Object(W.a)(e.answersList,n);return Q(Q({},e),{},{answersList:K()(o,Q(Q({},r),{},{isCommitted:!1,hasBeenInteractedWith:!0}),e.answersList)})},X=(e,t)=>{var{payload:{ref:r}}=t;return Q(Q({},e),{},{answersList:e.answersList.map(e=>Object(Y.a)(e)!==r?e:Q(Q({},e),{},{isCommitted:!0}))})},ee=(e,t)=>{var{payload:{ref:r}}=t;return Q(Q({},e),{},{answersList:e.answersList.map(e=>Object(Y.a)(e)!==r?e:Q(Q({},e),{},{isCommitted:!0}))})},te=e=>Q(Q({},e),{},{answersList:e.answersList.map(e=>Q(Q({},e),{},{isCommitted:!0}))});var re=[];function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie={accountId:"",accountLimitName:"",cookieUserId:null,formId:"",initialized:!1,isFormCreator:!1,isFirstConversation:null,userId:"",sessionId:null,blockRefTracking:{}};var ae=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,{type:r,payload:n}=arguments.length>1?arguments[1]:void 0;switch(r){case a.N:return oe(oe({},t),{},{initialized:!0,segmentKey:null==n?void 0:n.segmentKey,isFormCreator:t.userId===parseInt(null==n?void 0:n.cookieUserId,10),isFirstConversation:null==n?void 0:n.isFirstConversation,cookieUserId:null==n?void 0:n.cookieUserId,sessionId:l(12)});case a.E:return oe(oe({},t),{},{visitCurrentCycle:n.visitCurrentCycle});case a.D:var{ref:o,responseFilled:i}=n,c=(null===(e=t.blockRefTracking)||void 0===e?void 0:e[o])||{};return oe(oe({},t),{},{blockRefTracking:oe(oe({},t.blockRefTracking),{},{[o]:oe(oe({},c),{},{responseFilled:i})})});default:return t}};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={backgroundOpacity:1,hideHeaders:!1,minimalFooter:!1,mode:null},ue=(e,t)=>Object.keys(e).every(e=>Object.keys(t).includes(e));var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ue(se,e)||(e=le(le({},se),e)),e},pe=r(148),be=r(31),he=r(13);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t){var{currentBlockRef:r,paymentProviders:n,resetAnswers:o}=t.payload,i=Object(pe.a)(t.payload),a=fe(fe({},e),{},{submit:o?V.a:e.submit,form:fe(fe({},i),{},{currentRef:e.form.currentRef,currentScreenRef:e.form.currentScreenRef,isScrollNearTop:!0,isLivePreview:e.form.isLivePreview}),paymentProviders:fe(fe({},e.paymentProviders),n)}),c=Object(Y.q)(a),l=((e,t,r)=>{var n=Object(U.a)(t);return r?n:[...e.filter(e=>!!t.find(t=>{var{ref:r}=t;return r===e.blockRef})),...n.filter(t=>!e.find(e=>Object(Y.a)(e)===Object(Y.a)(t)))]})(Object(Y.j)(e),c,o);if(a.answers={answersList:l},a.pipingAnswers=l,null!=r)if(Object(be.b)(a,r)||Object(be.a)(a,r))a.form.currentScreenRef=r;else{a.form.currentScreenRef=null;var s=Object(he.n)(a,r)?r:Object(he.e)(a);s&&(a.form.currentRef=s)}return a}var ve=r(133);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.a,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.M:return ge(ge({},e),{},{isInputFocused:r.isInputFocused});default:return e}},we=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.i:return!0;case a.h:return!1;default:return e}};function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee={stripePaymentMethodId:null,stripePaymentIntentId:null,service:null};var Se={loadTime:null};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.p:return Pe(Pe({},e),{},{loadTime:r.loadTime});default:return e}},_e=Object(n.c)({accessScheduling:b,answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.V:return Z(e,t);case a.H:return $(e,t);case a.f:return X(e,t);case a.e:return ee(e,t);case a.c:return te(e);default:return e}},autoFocus:we,embedSettings:de,form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.a:return f(e,t);case a.b:return y(e,t);case a.o:return v(e,t);case a.G:return C(e,t);case a.q:return k(e);case a.C:return w(e,t);case a.u:return j(e,t);case a.j:return N(e);case a.n:return D(e,t);case a.m:return A(e,t);case a.x:return I(e,t);case a.w:return _(e,t);default:return e}},input:je,paymentProviders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.A:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{stripePaymentMethodId:r})});case a.z:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{stripePaymentIntentId:r})});case a.B:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{service:r})});default:return e}},pipingAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.T:return t.payload;default:return e}},reviewMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.l:return{isReviewModeEnabled:!0};case a.k:return{isReviewModeEnabled:!1};default:return e}},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.a,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.I:return H(H({},e),{},{isSubmitting:!(null!=r&&r.isLivePreview),isSuccess:!1,isComplete:!1,errorMessage:null,retry:H(H({},e.retry),{},{timeout:0}),navigationType:null==r?void 0:r.navigationType});case a.L:return H(H({},e),{},{isSubmitting:!1,isSuccess:!0,isComplete:!0,retry:H(H({},e.retry),{},{count:0,showMessage:!1,timeout:0})});case a.K:var{showMessage:n,count:o}=e.retry;return H(H({},e),{},{isSubmitting:!0,isSuccess:!1,isComplete:!1,retry:H(H({},e.retry),{},{count:o+1,timeout:r.retry.timeout,showMessage:n||o>=M.g})});case a.g:var i=e.retry.timeout-1;return H(H({},e),{},{retry:H(H({},e.retry),{},{timeout:i>0?i:0})});case a.y:return H(H({},e),{},{retry:H(H({},e.retry),{},{count:2})});case a.s:return H(H({},e),{},{responseId:r.responseId,landingId:r.landingId,landingAt:r.landingAt});case a.r:return e;case a.J:return H(H({},e),{},{isSubmitting:!1,isSuccess:!1,isComplete:!1,errorMessage:r.message,retry:H({},V.a.retry)});case a.H:return H(H({},e),{},{errorMessage:null});default:return e}},tracking:ae,performance:Te,abTests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},disableNavigation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},disableSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},disableTracking:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},featureFlags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},hideSubmitButton:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isLivePreview:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isOfflineMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},testVariants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},uniqueId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(16);return e},unrecoverableError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.v:return t.payload;default:return e}},timeToComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},brandLogo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}}),xe=(e,t)=>{switch(t.type){case a.U:return ye(e,t);default:return _e(e,t)}},Re=r(237),De=(e,t)=>(e=>e.featureFlags||{})(e)[t],Ae=r(16),Be=r(297),Fe=r(242),Ne=r(43),Me=r(17);function*Ve(e){var t=yield Object(Re.i)(Ae.d),r=yield Object(Re.i)(Fe.i),n=yield Object(Re.i)(be.c);yield Object(Re.g)(Object(Ne.e)()),yield Object(Re.g)(Object(Me.n)(n.ref)),"function"==typeof e&&(yield Object(Re.b)(e,t,r))}var Le=r(253),He=r.n(Le),ze=r(293),qe=r(7),Ke=r(8),Ue=r(108),We=e=>e.performance.loadTime,Ye=r(239),Ge=r(62),Qe=r.n(Ge);function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e={All:!1,Natero:!0,Iterable:!0},Xe=(e,t)=>new Promise(r=>{He.a.identify(parseInt(e,10),t?{accountid:parseInt(t,10)}:null,{context:{ip:"0.0.0.0"},integrations:$e},r)}),et=(e,t,r)=>new Promise(n=>{He.a.sendEvent(e,t,r,n)}),tt=e=>{var t=window.analytics.user();t&&t.anonymousId(e)},rt=e=>{Object(Ue.e)(e)},nt=function(){var e=Qe()((function*(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(yield Xe(t,r),yield Promise.all(e.map(e=>({data:e.data||{},options:e.options||{}})).map(e=>({data:Ze(Ze({},e.data),{},{userId:t}),options:Ze(Ze({},e.options),{},{context:{ip:"0.0.0.0"},integrations:e.options.integrations||$e})})).map(e=>et(e.data.event,e.data,e.options))),null!=n&&"null"!==n){var o=t===parseInt(n,10);yield Xe(n,o?r:null)}else if(window.analytics){var i=window.analytics.user()&&window.analytics.user().anonymousId();window.analytics.reset(),tt(i)}}));return function(t,r,n){return e.apply(this,arguments)}}(),ot=r(85),it=r(128),at=Object(it.a)("object","camelCase","name"),ct=r(295),lt=r(54),st=r(67),ut=r(39);function*dt(e,t){var r=yield Object(Re.i)(st.b),n=Object.keys(r);if(n.length){var o=yield Object(Re.i)(Ae.d),i=yield Object(Re.i)(Ye.j),a=yield Object(Re.i)(Ye.h);for(var c of n){var l=r[c],s={event:ut.a,attribution_user_id:ze.getUser(),test_id:c,variant_label:l,form_uid:o,account_id:i.accountId,typeform_view_id:a};if(c===ut.b)(yield Object(Re.i)(Ae.a))&&(s.variant_label=ut.e);yield Object(Re.g)(e,{data:s,options:t})}}}var pt=r(265);function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt="block_answered",ft="block_focused",yt="block_footer_clicked",vt="block_footer_visible",Ot="conversation_submitted",gt="item_clicked",jt="present_conversation",wt="review_mode_entered",Ct="start_conversation",kt="submit_button_shown",Et="typeform_previewed",St={integrations:{All:!1}},It=()=>Object(qe.m)()?"mobile":"desktop",Pt=()=>(new Date).getTimezoneOffset(),Tt=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}};function*_t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;yield Object(Re.k)(a.N),yield Object(Re.b)(xt);var r=yield Object(Re.b)(o.b,o.a.expanding(10));yield Object(Re.f)(Rt,r,e),yield Object(Re.f)(dt,r,St);var n=yield Object(Re.i)(Ye.g);if(n){var i={integrations:{All:!1,Natero:!0,"Google Analytics":!0,"Facebook Pixel":!0,AdWords:!0}},c=yield Object(Re.b)(zt);yield Object(Re.g)(r,{data:c,options:i})}else{var l=yield Object(Re.b)(Vt);yield Object(Re.g)(r,{data:ht({},l)}),yield Object(Re.f)((function*(){yield Object(Re.b)(pt.a,(function*(e){var t=yield Object(Re.i)(Ae.d);yield Object(Re.b)(rt,t);var n=yield Object(Re.b)(Ue.f,t);yield Object(Re.g)(Object(lt.c)(n));var o=yield Object(Re.b)(Nt,e);yield Object(Re.g)(r,{data:o})}))})),yield Object(Re.f)((function*(){yield Object(Re.k)(a.L);var e=yield Object(Re.b)(Lt);yield Object(Re.g)(r,{data:e})})),yield Object(Re.f)((function*(){for(var e;;){var t=yield Object(Re.k)(a.w),n=yield Object(Re.i)(Y.u),o=t.payload.blockRef;if(t.payload.show&&o===n){if(e===o)continue;e=o;var i=yield Object(Re.b)(Ht,vt);i&&(yield Object(Re.g)(r,{data:i,options:St}))}}})),yield Object(Re.f)((function*(){for(;;){var e=yield Object(Re.k)(a.d),{source:t}=e.payload;if(t===ct.a){var n=yield Object(Re.b)(Ht,yt);n&&(yield Object(Re.g)(r,{data:n,options:St}))}}})),yield Object(Re.f)((function*(){for(;;){yield Object(Re.k)(a.l);var e={invalid_answers_amount:yield Object(Re.i)(W.g)},t=yield Object(Re.b)(At,wt,e),n=St;yield Object(Re.g)(r,{data:t,options:n})}})),yield Object(Re.f)((function*(){for(;;){var{payload:e}=yield Object(Re.k)([a.a,a.P]),t=e.ref;if(yield Object(Re.i)(Ae.r,t)){var n=yield Object(Re.i)(Ye.j),o=yield Object(Re.i)(Ae.d),i=yield Object(Re.i)(Ye.h),c=yield Object(Re.i)(Y.m,t),l={account_id:n.accountId,attribution_user_id:ze.getUser(),block_ref:t,block_type:c?at[c.type]:null,event:kt,form_uid:o,typeform_view_id:i,ws_owner_account_id:n.accountId},s=St;yield Object(Re.g)(r,{data:l,options:s})}}})),yield Object(Re.f)((function*(){var e,n,o,i={integrations:{All:!1}};(yield Object(Re.i)(Y.v))&&(e=yield Object(Re.k)(a.q),yield Object(Re.d)());var c=yield Object(Re.i)(Y.u),l=e?{navigation_type:e.payload.navigationType}:null,s=yield Object(Re.i)(W.h,c);n=yield Object(Re.i)(Ye.a),o=n(c);var u,d=yield Object(Re.b)(Bt,c,ft,ht(ht({},l),{},{prefilled_block:s,response_prefilled:o.responseFilled||null}));yield Object(Re.g)(r,{data:d,options:i});for(var p=function*(){var{payload:e}=yield Object(Re.k)(a.a),c=yield Object(Re.i)(W.h,e.ref);yield Object(Re.d)(),n=yield Object(Re.i)(Ye.a),o=n(e.ref);var l=yield Object(Re.b)(Bt,e.ref,ft,{navigation_type:e.navigationType,prefilled_block:c,response_prefilled:o.responseFilled||null});if(!l)return"continue";u&&(yield Object(Re.c)(u)),u=yield Object(Re.f)((function*(){yield Object(Re.d)(t),yield Object(Re.g)(r,{data:l,options:i})}))};;)yield*p()})),yield Object(Re.f)((function*(){for(var e,n={integrations:{All:!1}},o=function*(){var{type:o,payload:i}=yield Object(Re.k)([a.a,a.I]),c=yield Object(Re.i)(Y.u),l=yield Object(Re.i)(Ae.v);if(o===a.a&&c===l)return"continue";var s=o===a.I?c:l,u=yield Object(Re.i)(Y.B,s),d=yield Object(Re.i)(W.l,s),p=(yield Object(Re.i)(Ye.a))(s),b=yield Object(Re.b)(Bt,s,mt,{changed_prefilled_value:d,answered:u,navigation_type:i.navigationType,response_filled:p.responseFilled||null});if(!b)return"continue";e&&(yield Object(Re.c)(e)),e=yield Object(Re.f)((function*(){yield Object(Re.d)(t),yield Object(Re.g)(r,{data:b,options:n})}))};;)yield*o()})),yield Object(Re.f)((function*(){for(;;){var{payload:e}=yield Object(Re.k)(a.O),{label:t}=e,n=yield Object(Re.b)(Kt,t);yield Object(Re.g)(r,{data:n})}})),yield Object(Re.f)((function*(){for(;;){var{payload:e}=yield Object(Re.k)(a.R),{label:t,navigationType:n}=e,o=yield Object(Re.b)(Ut,t,n);yield Object(Re.g)(r,{data:o})}})),yield Object(Re.f)((function*(){for(;;){var{payload:e}=yield Object(Re.k)(a.Q),{label:t}=e,n=yield Object(Re.b)(Wt,t);yield Object(Re.g)(r,{data:n})}}))}}function*xt(){var e=yield Object(Re.i)(Ye.k);if(e){var t=yield Object(Re.b)(Dt);yield Object(Re.b)(He.a.initRenderer,e,t)}}function*Rt(e,t){for(;;){var r=[yield Object(Re.k)(e),...yield Object(Re.e)(e)],n=yield Object(Re.i)(Ye.j),o=yield Object(Re.i)(Ye.c);yield Object(Re.b)(nt,r,n.userId,n.accountId,o);var i=yield Object(Re.i)(Y.k),c=yield Object(Re.i)(Fe.a);i||c||(yield Object(Re.h)({delay:Object(Re.d)(t),cancel:Object(Re.k)(a.I)}))}}function*Dt(){var e=yield Object(Re.i)(Ae.d),t=yield Object(Re.i)(Ye.h),r=yield Object(Re.i)(Ye.j),n=yield Object(Re.b)(Ue.a,e);return{account_id:r.accountId,attribution_user_id:ze.getUser(),form_uid:e,form_visitor_id:n,typeform_view_id:t,ws_owner_account_id:r.accountId}}function*At(e,t){return ht(ht({},yield Object(Re.b)(Dt)),{},{event:e},t)}function*Bt(e,t,r){var n=yield Object(Re.i)(Y.q),o=n.find(t=>t.ref===e),i=n.findIndex(t=>t.ref===e),a=yield Object(Re.i)(Fe.c),c=yield Object(Re.i)(Fe.e),l=yield Object(Re.i)(he.i,e);if(!o)return null;var s=(new Date).getTime(),u=window.performance&&window.performance.timing&&window.performance.timing.domComplete,d=ht({attachment_type:o.attachment&&o.attachment.type||null,block_index:i,block_ref:e,block_type:at[o.type],landing_token:a,layout_type:o.layout&&o.layout.type||Ke.d.STACK,question_required:l,response_id:c,time_since_page_load:u?Math.round(s-u):0},r);return yield Object(Re.b)(At,t,d)}function*Ft(){return(yield Object(Re.i)(ot.d))?{embedding_mode:yield Object(Re.i)(ot.c),headers_displayed:!(yield Object(Re.i)(ot.a)),footers_displayed:!(yield Object(Re.i)(ot.e)),transparency:100-100*(yield Object(Re.i)(ot.b))}:{embedding_mode:null}}function*Nt(e){var{navigationType:t}=e,r=yield Object(Re.i)(Ae.d),n=yield Object(Re.i)(Ye.f),o=yield Object(Re.i)(W.j),i=yield Object(Re.b)(Ue.c,r),a=yield Object(Re.i)(Ye.l),c={distribution_channel:"standard",height:window.innerHeight,is_first_conversation:n,local_time_offset:Pt(),local_timezone:Tt()||null,natero_feature_name:Ct,navigation_type:t,platform:It(),prefilled_data:o,renderer_version:"louvre",respondent_method:"web_renderer",visit_number:i,visit_number_current_cycle:a,width:window.innerWidth},l=yield Object(Re.b)(At,Ct,c),s=yield Object(Re.b)(Ft);return l=ht(ht({},l),s)}function*Mt(){var e=yield Object(Re.i)(Ae.d),t=yield Object(Re.b)(Ue.d,e);return yield Object(Re.g)(Object(lt.c)(t)),t}function*Vt(){var e=yield Object(Re.i)(W.j),t=yield Object(Re.i)(Ae.d),r=yield Object(Re.b)(Mt,t),n=yield Object(Re.b)(Ue.c,t),o=yield Object(Re.i)(We),i={natero_feature_name:"".concat(jt,"_").concat("standard"),distribution_channel:"standard",respondent_method:"web_renderer",platform:It(),prefilled_data:e,embedding_mode:null,renderer_version:"louvre",local_time_offset:Pt(),local_timezone:Tt()||null,loading_time:o,visit_number_current_cycle:r,visit_number:n},a=yield Object(Re.b)(At,jt,i),c=yield Object(Re.b)(Ft);return a=ht(ht({},a),c)}function*Lt(){var e=yield Object(Re.i)(Ae.d),t=yield Object(Re.i)(Ye.f),r=yield Object(Re.i)(Fe.c),n=yield Object(Re.i)(Fe.e),o=yield Object(Re.i)(Fe.d),i=yield Object(Re.i)(W.j),a=yield Object(Re.b)(Ue.c,e),c=yield Object(Re.i)(Ye.l),l=(new Date).getTime(),s=window.performance&&window.performance.timing&&window.performance.timing.domComplete,u={distribution_channel:"standard",is_first_conversation:t,landing_token:r,local_time_offset:Pt(),local_timezone:Tt()||null,natero_feature_name:Ot,navigation_type:o,platform:It(),prefilled_data:i,respondent_method:"web_renderer",response_id:n,time_to_submit:s?Math.round((l-s)/1e3):-1,visit_number_current_cycle:c,visit_number:a},d=yield Object(Re.b)(At,Ot,u),p=(yield Object(Re.i)(Ae.n))?{online:window.navigator.onLine}:{},b=yield Object(Re.b)(Ft);return d=ht(ht(ht({},d),b),p)}function*Ht(e){var t=yield Object(Re.i)(Ye.f),r={distribution_channel:"standard",height:window.innerHeight,is_first_conversation:t,local_time_offset:Pt(),local_timezone:Tt()||null,natero_feature_name:e,platform:It(),renderer_version:"louvre",respondent_method:"web_renderer_one_question_per_screen",width:window.innerWidth},n=yield Object(Re.b)(At,e,r),o=yield Object(Re.b)(Ft);return n=ht(ht({},n),o)}function*zt(){var e=yield Object(Re.i)(Ye.j),t=yield Object(Re.i)(Ae.d);return{event:Et,form_uid:t,account_id:e.accountId,natero_feature_name:Et}}function*qt(e){var t=yield Object(Re.i)(Ye.f),r=yield Object(Re.i)(Fe.c),n=yield Object(Re.i)(Fe.e),o=yield Object(Re.b)(Ft);return ht(ht({is_first_conversation:t,landing_token:r,platform:It(),response_id:n},o),e)}function*Kt(e){var t=yield Object(Re.b)(qt,{item:"viral_branding",label:e});return yield Object(Re.b)(At,gt,t)}function*Ut(e,t){var r=yield Object(Re.b)(qt,{item:"thankyou_screen_again",label:e,navigation_type:t});return yield Object(Re.b)(At,gt,r)}function*Wt(e){var t=yield Object(Re.b)(qt,{item:"thankyou_screen_social",label:e});return yield Object(Re.b)(At,gt,t)}var Yt=r(302),Gt=r(395),Qt=r.n(Gt),Jt=r(298),Zt=r(56);function*$t(){yield Object(Re.k)(a.N),yield Object(Re.j)(Xt)}function*Xt(){var e=yield Object(Re.i)(Ae.d),t=yield Object(Re.i)(Ye.h),r=navigator.userAgent;try{var n={formId:e,responseId:t,userAgent:r},o=new Qt.a(n,{endpoint:"".concat(Jt.a.apiHost,"/forms/").concat(e,"/").concat(Jt.a.endpoints.insights)});if(yield Object(Re.i)(Zt.b))yield Object(Re.b)([o,o.onFormView],"VIEW_FORM_CLOSED");else{yield Object(Re.l)(a.S,(function*(){yield Object(Re.b)([o,o.onClose])})),(yield Object(Re.i)(Y.N))&&(yield Object(Re.b)([o,o.onActivateBlock],{id:"WelcomeScreenID"}),yield Object(Re.k)(a.q));var i=yield Object(Re.i)(Y.u),c=yield Object(Re.i)(Y.m,i);c&&(yield Object(Re.b)([o,o.onActivateBlock],{id:c.id})),yield Object(Re.l)(a.a,(function*(e){var t=yield Object(Re.i)(Y.m,e.payload.ref);t&&(yield Object(Re.b)([o,o.onActivateBlock],{id:t.id}))})),yield Object(Re.l)(a.L,(function*(){yield Object(Re.b)([o,o.onSubmit])}))}}catch(e){console.error(e)}}var er=r(294),tr=r(5),rr={sendEvent:(e,t)=>{var{formId:r,value:n}=t;window.ga&&window.ga("send","event",r,e,n)},events:e=>{switch(e){case a.f:return{eventName:"TypeformQuestionPassed",mapStateToEventData:e=>{var t=Object(Y.u)(e),r=Object(Y.m)(e,t);return{formId:Object(Ae.d)(e),value:r.title}},shouldSendEvent:e=>{var t=Object(Y.u)(e),r=Object(Y.m)(e,t);return!!r&&r.type!==tr.a.statement&&r.type!==tr.a.group}};case a.L:return{eventName:"TypeformSubmit",mapStateToEventData:e=>({formId:Object(Ae.d)(e),value:Object(Ae.e)(e)})};default:return!1}}},nr=!0,or={sendEvent:(e,t)=>{window.fbq&&window.fbq("trackSingleCustom",t.pixelId,e)},events:e=>{switch(e){case a.a:case a.f:case a.q:return{eventName:"TypeformFirstInteraction",mapStateToEventData:e=>({pixelId:Object(Ye.d)(e)}),shouldSendEvent:ir};case a.L:return{eventName:"TypeformSubmit",mapStateToEventData:e=>({pixelId:Object(Ye.d)(e)})};default:return!1}}};function ir(){return!!nr&&(nr=!1,!0)}var ar=!0,cr={sendEvent:e=>{window.googleTagManager&&window.googleTagManager.push({event:e})},events:e=>{switch(e){case a.a:case a.f:case a.q:return{eventName:"TypeformFirstInteraction",shouldSendEvent:lr()};case a.L:return{eventName:"TypeformSubmit"};default:return!1}}};function lr(){return!!ar&&(ar=!1,!0)}var sr={[er.d]:rr,[er.c]:or,[er.e]:cr};function*ur(){var e=yield Object(Re.i)(Ye.i);yield Object(Re.f)((function*(){var t=yield Object(Re.k)(a.L);yield Object(Re.b)(dr,t,sr,e)})),yield Object(Re.f)((function*(){for(;;){var t=yield Object(Re.k)(a.f);yield Object(Re.b)(dr,t,sr,e)}})),yield Object(Re.f)((function*(){var t=yield Object(Re.k)(a.q);yield Object(Re.b)(dr,t,sr,e)})),yield Object(Re.f)((function*(){for(;;){var t=yield Object(Re.k)(a.a);yield Object(Re.b)(dr,t,sr,e)}}))}function*dr(e,t,r){var n=r.filter(r=>t[r]&&!!t[r].events(e.type));yield Object(Re.a)(n.map(r=>Object(Re.b)(pr,t[r],e)))}function*pr(e,t){var r=e.events(t.type);if(!r.shouldSendEvent||(yield Object(Re.i)(r.shouldSendEvent))){var n=r.mapStateToEventData?yield Object(Re.i)(r.mapStateToEventData):void 0;yield Object(Re.b)(e.sendEvent,r.eventName,n)}}var br=r(296),hr=r(385);function*mr(){yield Object(Re.k)(a.L);var e=yield Object(Re.i)(Ae.d);yield Object(Re.b)(Ue.g,e)}function*fr(){yield Object(Re.f)(mr)}function*yr(e){var t=yield Object(Re.i)(Ae.l),r=yield Object(Re.i)(Ae.s),n=yield Object(Re.i)(Ae.n);(yield Object(Re.i)(Ae.t))&&(yield Object(Re.j)(_t)),r||t?yield*function*(e){yield Object(Re.f)(br.a),yield Object(Re.a)([Object(Re.l)(a.I,Ve,e)])}(e):n?yield*Object(hr.a)():yield*function*(){if(yield Object(Re.i)(Ae.t)){yield Object(Re.j)(Yt.b),yield Object(Re.j)(ur),(yield Object(Re.i)(De,"res-906-enable-insights-tracking"))&&(yield Object(Re.j)($t))}yield Object(Re.f)(br.a),yield Object(Re.f)(fr),yield Object(Re.f)((function*(){yield Object(Re.b)(pt.a,Be.c)})),yield Object(Re.a)([Object(Re.m)(a.I,Be.d)])}()}function vr(e,t){var r=Object(o.c)({onError:e=>{setTimeout(()=>{throw e},0)}}),a=[i.a,r],c=n.d;var l=Object(n.e)(xe,e,c(Object(n.a)(...a)));return r.run(yr,t),l}},531:function(e,t,r){"use strict";r.r(t);var n=r(6),o=r.n(n),i=r(25),a=r(106),c=r(15),l=r(84),s=r(0),u=r.n(s),d=(r(1),r(166)),p=r.n(d),b=r(149),h=r(49),m=r.n(h),f=r(100),y=r.n(f),v=r(7),O=r(76),g=r(4),j=r(22),w=r(124),C=r(302),k=r(18),E=r(60),S=r(452),I=r(453),P=r(454),T=[{name:"Facebook",icon:u.a.createElement(S.a,null),link:"https://www.facebook.com/sharer/sharer.php?u=",utmSource:"facebook"},{name:"Twitter",icon:u.a.createElement(I.a,null),link:"https://twitter.com/intent/tweet?url=",utmSource:"twitter"},{name:"LinkedIn",icon:u.a.createElement(P.a,null),link:"https://www.linkedin.com/shareArticle?url=",utmSource:"linkedin"}],_=r(26),x=r(299),R=r(107),D=r(61),A=r(28),B=r(147),F=r(12),N=r.n(F),M=r(451),V=r(110);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var H=e=>{var{providers:t,thankYouScreenRef:r,appendUtmSourceParam:n}=e;return t.map(e=>{var{link:t,utmSource:i}=e,a=N()(e,["link","utmSource"]),c="".concat(((e,t,r)=>{if(!Object(V.a)())return"";var n="".concat(window.location.origin).concat(window.location.pathname);return e&&(n="".concat(n,"?").concat("typeform-ty-screen-ref","=").concat(e)),t&&(n=((e,t)=>{var r=e.indexOf("?")>0?"&":"?";return"".concat(e).concat(r,"utm_source=").concat(t,"&utm_content=typeform_social")})(n,r)),n})(r,n,i)),l=encodeURIComponent(c);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({link:"".concat(t).concat(l)},a)})},z=e=>{var{providers:t,thankYouScreenRef:r,appendUtmSourceParam:n,layoutType:o,onClick:i}=e,a=H({providers:t,thankYouScreenRef:r,appendUtmSourceParam:n});return u.a.createElement(M.a,{layoutType:o,onClick:i,providers:a})};z.defaultProps={providers:[]};var q=z,K=e=>{var t,r,{screenDetails:n,showScreen:o,brandingUrl:i,theme:a,t:c,isRedirectEnabled:l,isWinningOutcome:d,hasUtmSource:h,isFocusable:v,showBranding:S,ctaVariant:I,trackBrandingCtaClick:P,trackButtonClick:F,trackSocialIconClick:N}=e,M=Object(s.useRef)(null),V=Object(s.useRef)(null),L=Object(w.a)(),[H,z]=Object(s.useState)(!L);if(Object(s.useEffect)(()=>{if(M.current&&v&&o){var e=setTimeout(()=>{M.current.focus()},f.DEFAULT_ANIMATE_DURATION);return()=>clearTimeout(e)}},[v,o]),Object(s.useEffect)(()=>{L&&z(!1)},[L]),!n||!Object.keys(n).length)return null;var{layout:K,buttonLabel:U="",description:W,shareIcons:Y,showButton:G,title:Q}=n,J=(null===(t=n.layout)||void 0===t?void 0:t.attachment)||n.attachment,Z=(null==K?void 0:K.type)||Object(O.a)(J),$=()=>{L||(null==J?void 0:J.type)!==j.b.video||z(!H)},X=e=>{if(!V.current&&l){var{ref:t,redirectUrl:r}=n,o=Object(R.a)(e);F(t,r,o),V.current=setTimeout(()=>{(e=>{if(e){var t=e.replace(/\s/g,"%20");p()(t)||Object(C.a)("invalidRedirectUrl"),Object(x.b)(e)}else window.location.reload()})(r||"")},E.f)}},ee=!Object(A.b)();return u.a.createElement(y.a,{isVisible:o,duration:E.h},u.a.createElement(B.a,{"data-qa":"thank-you-screen-wrapper",isVisible:o,ref:M,onKeyDown:e=>{o&&(Object(D.i)(e)&&$(),G&&e.key===k.a.ENTER&&(e.stopPropagation(),X(e)))},tabIndex:-1},u.a.createElement(b.a,{attachment:J,brandingText:"1_ask_discover"===I||"3_curious_discover"===I||"5_love_discover"===I?"Discover Typeform":Object(_.a)(c("label.branding.create")),brandingMotto:"2_curious_create"===I||"3_curious_discover"===I?"Curious about forms like this?":"4_love_create"===I||"5_love_discover"===I?"Forms that people love to fill":Object(_.a)(c("label.branding.motto")),brandingUrl:i,buttonColor:a.colors.button,buttonContentColor:a.colors.buttonContent,buttonContent:Object(_.a)(c(U)),buttonDataQa:"thank-you-button",buttonEnabled:!!G,contextBackgroundColor:a.colors.background,dataQa:"thank-you-screen".concat(o?"-visible":""," deep-purple-thank-you-screen").concat(o?"-visible":""),helperColor:a.colors.primary,helperText:Object(_.a)(c("label.buttonHint.default")),isBrandingEnabled:S,key:n.ref,layoutPlacement:null==K?void 0:K.placement,layoutType:Z,onBrandingBtnClick:P,onButtonClick:X,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",secondaryColor:null===(r=a.colors)||void 0===r?void 0:r.secondary,showScreen:o,stickyButtonEnabled:ee,isVideoPlaying:H,onVideoClick:$},Q&&u.a.createElement(m.a,{color:a.colors.primary,htmlTag:"h1",type:g.i.screenTitle},Q),W&&u.a.createElement(m.a,{color:a.colors.primary,htmlTag:"p",type:g.i.screenDescription},W),Y&&u.a.createElement(q,{appendUtmSourceParam:h,layoutType:Z,onClick:e=>{var t=e.toLowerCase();N(t)},providers:T,thankYouScreenRef:d?n.ref:null}))))};K.defaultProps={breakpoint:"lg",hasUtmSource:!1,isWinningOutcome:!1,isRedirectEnabled:!0,screenDetails:{},t:e=>e,theme:{colors:{button:v.b,background:v.b,primary:v.b}}};var U=K,W=r(31),Y=r(2),G=r(16),Q=r(32),J=e=>!!e.form.outcome,Z=e=>!!e.form.hidden&&!!Object.keys(e.form.hidden).includes("utm_source"),$=r(239),X=r(67),ee=r(54);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=(e,t)=>Object(G.l)(e)?null:Object($.b)(e)("https://www.typeform.com/discover",t);t.default=Object(i.b)(e=>{var t=ne(e,"typeform-thankyou"),r=Object(W.c)(e)||{},{ref:n,redirectUrl:o}=r,i="default_tys"===n?ne(e,"typeform-thankyoubutton"):o;return{ctaVariant:Object(X.a)(e,"RESP-21-TY-SCREEN-CTA"),isRedirectEnabled:!Object(G.l)(e),isWinningOutcome:J(e),screenDetails:re(re({},r),{},{redirectUrl:i}),showScreen:Object(Y.M)(e),theme:Object(Q.f)(e),isFocusable:Object(Y.l)(e),brandingUrl:t,hasUtmSource:Z(e),showBranding:Object(G.B)(e)}},e=>re({},Object(a.b)({trackBrandingCtaClick:()=>Object(ee.d)("typeform-thankyou"),trackButtonClick:(e,t,r)=>((e,t,r)=>"default_tys"===e?Object(ee.d)("typeform-thankyoubutton"):t?Object(ee.f)("custom_link",r):Object(ee.f)("default_link",r))(e,t,r),trackSocialIconClick:ee.e},e)))(Object(l.a)(Object(c.withBreakpoint)(U)))}}]);